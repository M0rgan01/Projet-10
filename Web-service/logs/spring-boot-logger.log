2019-08-10 15:41:12,063 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestBookBusiness on DESKTOP-EAH8HBP with PID 3276 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 15:41:12,066 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 15:41:12,067 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 15:41:12,240 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:41:12,240 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:41:13,210 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 15:41:13,438 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 216ms. Found 7 repository interfaces.
2019-08-10 15:41:14,085 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c84de93b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 15:41:14,376 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 15:41:14,677 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 15:41:14,829 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 15:41:14,987 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 15:41:14,991 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 15:41:15,341 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 15:41:16,041 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 15:41:16,664 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestBookBusiness on DESKTOP-EAH8HBP with PID 8140 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 15:41:16,665 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 15:41:16,666 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 15:41:16,983 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:41:16,987 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:41:17,936 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@f559c74'
2019-08-10 15:41:17,942 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:41:17,977 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 15:41:18,223 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 224ms. Found 7 repository interfaces.
2019-08-10 15:41:18,592 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 15:41:19,721 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f03183b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 15:41:20,164 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 15:41:20,638 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 15:41:20,931 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 15:41:21,147 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 15:41:21,157 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 15:41:21,445 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 15:41:21,498 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 15:41:21,576 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 15:41:22,103 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 15:41:22,267 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: e674f402-6d43-4f36-ae8f-d33af3c490fd

2019-08-10 15:41:22,591 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@736788b, org.springframework.security.web.context.SecurityContextPersistenceFilter@31e22365, org.springframework.security.web.header.HeaderWriterFilter@7be62956, org.springframework.security.web.csrf.CsrfFilter@6487f7f8, org.springframework.security.web.authentication.logout.LogoutFilter@118a4d5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7252bdb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@53d87b2d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@38968752, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@574218f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41bdaa81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c5a105, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6294e4a6, org.springframework.security.web.session.SessionManagementFilter@452ec287, org.springframework.security.web.access.ExceptionTranslationFilter@7507d96c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37e491e2]
2019-08-10 15:41:22,769 INFO org.springframework.boot.StartupInfoLogger [main] Started TestBookBusiness in 11.08 seconds (JVM running for 12.093)
2019-08-10 15:41:23,060 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 5 not correct
2019-08-10 15:41:23,117 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 15:41:23,217 INFO com.bibliotheque.metier.BookBusinessImpl [main] update book 2
2019-08-10 15:41:23,222 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 15:41:23,239 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-10 15:41:23,241 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 15:41:23,256 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-10 15:41:23,267 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-10 15:41:23,346 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyAvailable incorrect : book.copyAvailable.value.not.correct
2019-08-10 15:41:23,369 ERROR com.bibliotheque.metier.BookBusinessImpl [main] book3already disable
2019-08-10 15:41:23,420 INFO com.bibliotheque.metier.BookBusinessImpl [main] Create book7
2019-08-10 15:41:23,431 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-10 15:41:23,442 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 8
2019-08-10 15:41:23,480 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyTotals incorrect : book.copyTotals.value.not.correct
2019-08-10 15:41:23,494 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success set disable to book9
2019-08-10 15:41:23,581 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 1 elements
2019-08-10 15:41:23,595 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 5 elements
2019-08-10 15:41:23,603 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 15:41:23,618 ERROR com.bibliotheque.metier.KindBusinessImpl [main] Kind name incorrect : kind.name.blank
2019-08-10 15:41:23,629 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 15:41:23,674 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 15:41:23,674 INFO com.bibliotheque.metier.KindBusinessImpl [main] get kind Test
2019-08-10 15:41:23,691 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 15:41:23,700 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest2
2019-08-10 15:41:23,709 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest3
2019-08-10 15:41:23,710 INFO com.bibliotheque.metier.KindBusinessImpl [main] Return list of kind
2019-08-10 15:41:23,730 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 15:41:23,738 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:41:23,738 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 15:41:23,741 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 15:41:23,742 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 15:41:23,748 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 15:41:23,748 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 15:41:23,749 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 15:41:23,749 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 15:41:23,754 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 15:41:24,175 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@13208a63'
2019-08-10 15:41:24,180 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:41:24,850 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 15:41:26,823 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 15:41:26,925 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 15:41:27,542 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 48af2740-df76-441a-b3b6-68e42dc112e8

2019-08-10 15:41:27,884 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b49f6b9, org.springframework.security.web.context.SecurityContextPersistenceFilter@fc465c6, org.springframework.security.web.header.HeaderWriterFilter@54ed358b, org.springframework.security.web.csrf.CsrfFilter@12380913, org.springframework.security.web.authentication.logout.LogoutFilter@7a1b00d2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@133b7043, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2ecf16dc, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@321769fb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4fedf337, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74904fdc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@200a08c3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7497ea59, org.springframework.security.web.session.SessionManagementFilter@59054759, org.springframework.security.web.access.ExceptionTranslationFilter@33f1f5a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33d27155]
2019-08-10 15:41:28,038 INFO org.springframework.boot.StartupInfoLogger [main] Started TestBookBusiness in 12.237 seconds (JVM running for 15.257)
2019-08-10 15:41:28,310 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 5 not correct
2019-08-10 15:41:28,351 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 15:41:28,404 INFO com.bibliotheque.metier.BookBusinessImpl [main] update book 2
2019-08-10 15:41:28,408 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 15:41:28,420 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-10 15:41:28,423 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 15:41:28,434 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-10 15:41:28,443 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-10 15:41:28,473 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyAvailable incorrect : book.copyAvailable.value.not.correct
2019-08-10 15:41:28,491 ERROR com.bibliotheque.metier.BookBusinessImpl [main] book3already disable
2019-08-10 15:41:28,530 INFO com.bibliotheque.metier.BookBusinessImpl [main] Create book7
2019-08-10 15:41:28,537 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-10 15:41:28,547 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 8
2019-08-10 15:41:28,573 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyTotals incorrect : book.copyTotals.value.not.correct
2019-08-10 15:41:28,587 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success set disable to book9
2019-08-10 15:41:28,670 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 1 elements
2019-08-10 15:41:28,689 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 5 elements
2019-08-10 15:41:28,699 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 15:41:28,712 ERROR com.bibliotheque.metier.KindBusinessImpl [main] Kind name incorrect : kind.name.blank
2019-08-10 15:41:28,727 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 15:41:28,775 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 15:41:28,775 INFO com.bibliotheque.metier.KindBusinessImpl [main] get kind Test
2019-08-10 15:41:28,792 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 15:41:28,802 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest2
2019-08-10 15:41:28,812 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest3
2019-08-10 15:41:28,813 INFO com.bibliotheque.metier.KindBusinessImpl [main] Return list of kind
2019-08-10 15:41:28,830 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 15:41:28,839 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-7] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:41:28,840 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-7] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 15:41:29,508 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown initiated...
2019-08-10 15:41:29,515 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown completed.
2019-08-10 15:52:17,516 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestKindBusiness on DESKTOP-EAH8HBP with PID 4316 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 15:52:17,517 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 15:52:17,517 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 15:52:17,662 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:52:17,664 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:52:18,219 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 15:52:18,348 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 119ms. Found 7 repository interfaces.
2019-08-10 15:52:18,831 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$85fc9ce4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 15:52:19,048 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 15:52:19,258 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 15:52:19,347 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 15:52:19,427 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 15:52:19,430 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 15:52:19,590 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 15:52:19,956 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 15:52:20,870 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@b506ed0'
2019-08-10 15:52:20,874 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:52:21,224 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 15:52:22,883 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 15:52:22,954 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 15:52:23,432 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: f69c1d0a-6471-416e-9ed6-7c75a3fc898d

2019-08-10 15:52:23,673 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@201a8ea7, org.springframework.security.web.context.SecurityContextPersistenceFilter@7507d96c, org.springframework.security.web.header.HeaderWriterFilter@32caae19, org.springframework.security.web.csrf.CsrfFilter@1d2d4d7a, org.springframework.security.web.authentication.logout.LogoutFilter@39c5a105, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26679788, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@289a4b90, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@ecf028c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@24f90aff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49b9ba6a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@799971ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b64bbad, org.springframework.security.web.session.SessionManagementFilter@2bc59ab7, org.springframework.security.web.access.ExceptionTranslationFilter@3c2dda7c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3684d2c0]
2019-08-10 15:52:23,819 INFO org.springframework.boot.StartupInfoLogger [main] Started TestKindBusiness in 6.627 seconds (JVM running for 7.524)
2019-08-10 15:52:23,854 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@5c3007d, testMethod = testCreateKindWithBlankName@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@27ec0d06]; rollback [true]
2019-08-10 15:52:23,953 ERROR com.bibliotheque.metier.KindBusinessImpl [main] Kind name incorrect : kind.name.blank
2019-08-10 15:52:23,959 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@5c3007d, testMethod = testCreateKindWithBlankName@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:52:23,962 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@4e20a985, testMethod = testCreateKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@27ec0d06]; rollback [true]
2019-08-10 15:52:24,037 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 15:52:24,093 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@4e20a985, testMethod = testCreateKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:52:24,095 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@13f2d42c, testMethod = TestGetKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@27ec0d06]; rollback [true]
2019-08-10 15:52:24,096 INFO com.bibliotheque.metier.KindBusinessImpl [main] get kind Test
2019-08-10 15:52:24,104 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@13f2d42c, testMethod = TestGetKind@TestKindBusiness, testException = java.lang.NullPointerException, mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:52:24,111 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@56f61d74, testMethod = TestGetListKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@27ec0d06]; rollback [true]
2019-08-10 15:52:24,115 INFO com.bibliotheque.metier.KindBusinessImpl [main] Return list of kind
2019-08-10 15:52:24,120 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@56f61d74, testMethod = TestGetListKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:52:24,128 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 15:52:24,134 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:52:24,134 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 15:52:24,136 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 15:52:24,136 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 15:52:24,139 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 15:52:24,139 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 15:52:24,140 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 15:52:24,140 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 15:52:24,142 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 15:53:04,724 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestKindBusiness on DESKTOP-EAH8HBP with PID 4880 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 15:53:04,725 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 15:53:04,726 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 15:53:04,869 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:53:04,870 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:53:05,447 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 15:53:05,575 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 118ms. Found 7 repository interfaces.
2019-08-10 15:53:06,050 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$85fc9ce4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 15:53:06,279 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 15:53:06,496 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 15:53:06,590 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 15:53:06,668 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 15:53:06,671 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 15:53:06,832 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 15:53:07,216 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 15:53:08,138 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@b506ed0'
2019-08-10 15:53:08,143 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:53:08,480 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 15:53:10,080 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 15:53:10,155 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 15:53:10,618 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: b0bd8b6c-4e22-4674-86e9-34890112a431

2019-08-10 15:53:10,853 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cd8db31, org.springframework.security.web.context.SecurityContextPersistenceFilter@265287ec, org.springframework.security.web.header.HeaderWriterFilter@6d80e411, org.springframework.security.web.csrf.CsrfFilter@24dc150c, org.springframework.security.web.authentication.logout.LogoutFilter@41d877bb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@56f84c9b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@45f0038, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@201a8ea7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@154f8280, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7210f559, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41bdaa81, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ecf028c, org.springframework.security.web.session.SessionManagementFilter@60e67c06, org.springframework.security.web.access.ExceptionTranslationFilter@6b86826a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35d114f4]
2019-08-10 15:53:10,993 INFO org.springframework.boot.StartupInfoLogger [main] Started TestKindBusiness in 6.611 seconds (JVM running for 7.504)
2019-08-10 15:53:11,031 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@5abc5854, testMethod = testCreateKindWithBlankName@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4d664323]; rollback [true]
2019-08-10 15:53:11,136 ERROR com.bibliotheque.metier.KindBusinessImpl [main] Kind name incorrect : kind.name.blank
2019-08-10 15:53:11,144 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@5abc5854, testMethod = testCreateKindWithBlankName@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:11,147 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@75d7297d, testMethod = testCreateKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4d664323]; rollback [true]
2019-08-10 15:53:11,217 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 15:53:11,278 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@75d7297d, testMethod = testCreateKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:11,280 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@6cb662e8, testMethod = TestGetKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4d664323]; rollback [true]
2019-08-10 15:53:11,291 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 15:53:11,291 INFO com.bibliotheque.metier.KindBusinessImpl [main] get kind Test
2019-08-10 15:53:11,295 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@6cb662e8, testMethod = TestGetKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:11,296 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@37e64e37, testMethod = TestGetListKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4d664323]; rollback [true]
2019-08-10 15:53:11,299 INFO com.bibliotheque.metier.KindBusinessImpl [main] Return list of kind
2019-08-10 15:53:11,303 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1aa7ecca testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@37e64e37, testMethod = TestGetListKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@59309333 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5e853265, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d76b067, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e965684, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1877ab81], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:11,310 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 15:53:11,315 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:53:11,316 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 15:53:11,317 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 15:53:11,319 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 15:53:11,319 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 15:53:11,320 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 15:53:11,320 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 15:53:11,320 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 15:53:11,322 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 15:53:50,369 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestBookBusiness on DESKTOP-EAH8HBP with PID 6852 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 15:53:50,370 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 15:53:50,371 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 15:53:50,522 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:53:50,523 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:53:51,091 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 15:53:51,216 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 113ms. Found 7 repository interfaces.
2019-08-10 15:53:51,697 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c30d03b8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 15:53:51,919 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 15:53:52,134 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 15:53:52,224 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 15:53:52,300 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 15:53:52,303 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 15:53:52,458 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 15:53:52,826 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 15:53:53,748 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@3db6dd52'
2019-08-10 15:53:53,752 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:53:54,090 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 15:53:55,636 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 15:53:55,698 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 15:53:56,185 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: aefe20d2-127e-42e6-8f80-880995d36c64

2019-08-10 15:53:56,413 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26679788, org.springframework.security.web.context.SecurityContextPersistenceFilter@f36f34d, org.springframework.security.web.header.HeaderWriterFilter@624d778e, org.springframework.security.web.csrf.CsrfFilter@362cf66, org.springframework.security.web.authentication.logout.LogoutFilter@31e22365, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@35d114f4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7be62956, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5cdda548, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@31183ee2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b86826a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7507d96c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f2544b0, org.springframework.security.web.session.SessionManagementFilter@cfacf0, org.springframework.security.web.access.ExceptionTranslationFilter@6487f7f8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@464a3430]
2019-08-10 15:53:56,539 INFO org.springframework.boot.StartupInfoLogger [main] Started TestBookBusiness in 6.486 seconds (JVM running for 7.422)
2019-08-10 15:53:56,577 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@186dcb05, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@59a5bb61]; rollback [true]
2019-08-10 15:53:56,722 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 5 not correct
2019-08-10 15:53:56,734 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@186dcb05, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:56,739 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@67b3960b, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@59a5bb61]; rollback [true]
2019-08-10 15:53:56,742 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 15:53:56,805 INFO com.bibliotheque.metier.BookBusinessImpl [main] update book 2
2019-08-10 15:53:56,806 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 15:53:56,808 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@67b3960b, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:56,811 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@515940af, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@59a5bb61]; rollback [true]
2019-08-10 15:53:56,814 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-10 15:53:56,815 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 15:53:56,817 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@515940af, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:56,819 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1bcb8599, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@59a5bb61]; rollback [true]
2019-08-10 15:53:56,823 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-10 15:53:56,828 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1bcb8599, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:56,830 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1af82ba8, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@59a5bb61]; rollback [true]
2019-08-10 15:53:56,832 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-10 15:53:56,864 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyAvailable incorrect : book.copyAvailable.value.not.correct
2019-08-10 15:53:56,867 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1af82ba8, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:56,868 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@24b38e8f, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@59a5bb61]; rollback [true]
2019-08-10 15:53:56,872 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 3 not correct
2019-08-10 15:53:56,874 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@24b38e8f, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:56,876 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@18ca9277, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@59a5bb61]; rollback [true]
2019-08-10 15:53:56,901 INFO com.bibliotheque.metier.BookBusinessImpl [main] Create book7
2019-08-10 15:53:56,902 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-10 15:53:56,906 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@18ca9277, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:56,908 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@6cb662e8, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@59a5bb61]; rollback [true]
2019-08-10 15:53:56,910 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 8
2019-08-10 15:53:56,926 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyTotals incorrect : book.copyTotals.value.not.correct
2019-08-10 15:53:56,928 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@6cb662e8, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:56,931 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2a16d393, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@59a5bb61]; rollback [true]
2019-08-10 15:53:56,933 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success set disable to book9
2019-08-10 15:53:56,936 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2a16d393, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:56,938 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4e3ffd0, testMethod = testPageBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@59a5bb61]; rollback [true]
2019-08-10 15:53:56,979 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 0 elements
2019-08-10 15:53:56,983 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4e3ffd0, testMethod = testPageBook@TestBookBusiness, testException = java.lang.AssertionError: expected:<0> but was:<1>, mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:56,987 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4a5d5b38, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@59a5bb61]; rollback [true]
2019-08-10 15:53:56,990 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 15:53:56,993 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4a5d5b38, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:53:56,999 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 15:53:57,004 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:53:57,006 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 15:53:57,007 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 15:53:57,007 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 15:53:57,010 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 15:53:57,010 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 15:53:57,010 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 15:53:57,011 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 15:53:57,013 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 15:55:48,426 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestBookBusiness on DESKTOP-EAH8HBP with PID 11356 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 15:55:48,427 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 15:55:48,427 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 15:55:48,582 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:55:48,583 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:55:49,149 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 15:55:49,277 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 119ms. Found 7 repository interfaces.
2019-08-10 15:55:49,776 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$27712977] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 15:55:49,999 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 15:55:50,232 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 15:55:50,325 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 15:55:50,404 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 15:55:50,407 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 15:55:50,563 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 15:55:50,931 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 15:55:51,833 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6ef4cbe1'
2019-08-10 15:55:51,837 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:55:52,210 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 15:55:53,876 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 15:55:53,941 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 15:55:54,392 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 77dd3df2-a22e-4f1b-96b2-551cc5151b7f

2019-08-10 15:55:54,648 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56f84c9b, org.springframework.security.web.context.SecurityContextPersistenceFilter@45f241df, org.springframework.security.web.header.HeaderWriterFilter@4990b335, org.springframework.security.web.csrf.CsrfFilter@40b54762, org.springframework.security.web.authentication.logout.LogoutFilter@b267745, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a1a0bc, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@49b9ba6a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@26679788, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@c2e33, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72e36677, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@265287ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5cdda548, org.springframework.security.web.session.SessionManagementFilter@39ae6408, org.springframework.security.web.access.ExceptionTranslationFilter@722b3ba2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e4e60f5]
2019-08-10 15:55:54,810 INFO org.springframework.boot.StartupInfoLogger [main] Started TestBookBusiness in 6.716 seconds (JVM running for 7.597)
2019-08-10 15:55:54,843 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3d7b3b18, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ed19b69]; rollback [true]
2019-08-10 15:55:54,981 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 5 not correct
2019-08-10 15:55:54,988 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3d7b3b18, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:55:54,992 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1c787389, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ed19b69]; rollback [true]
2019-08-10 15:55:54,994 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 15:55:55,049 INFO com.bibliotheque.metier.BookBusinessImpl [main] update book 2
2019-08-10 15:55:55,050 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 15:55:55,051 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1c787389, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:55:55,052 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3a7d914c, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ed19b69]; rollback [true]
2019-08-10 15:55:55,055 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-10 15:55:55,056 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 15:55:55,059 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3a7d914c, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:55:55,061 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4c164f81, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ed19b69]; rollback [true]
2019-08-10 15:55:55,063 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-10 15:55:55,066 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4c164f81, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:55:55,068 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2f3cd727, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ed19b69]; rollback [true]
2019-08-10 15:55:55,071 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-10 15:55:55,100 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyAvailable incorrect : book.copyAvailable.value.not.correct
2019-08-10 15:55:55,102 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2f3cd727, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:55:55,103 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@5ac646b3, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ed19b69]; rollback [true]
2019-08-10 15:55:55,105 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 3 not correct
2019-08-10 15:55:55,107 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@5ac646b3, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:55:55,109 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2059f785, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ed19b69]; rollback [true]
2019-08-10 15:55:55,145 INFO com.bibliotheque.metier.BookBusinessImpl [main] Create book7
2019-08-10 15:55:55,146 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-10 15:55:55,150 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2059f785, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:55:55,151 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@460b77d6, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ed19b69]; rollback [true]
2019-08-10 15:55:55,155 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 8
2019-08-10 15:55:55,177 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyTotals incorrect : book.copyTotals.value.not.correct
2019-08-10 15:55:55,179 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@460b77d6, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:55:55,182 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@53432aef, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ed19b69]; rollback [true]
2019-08-10 15:55:55,184 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success set disable to book9
2019-08-10 15:55:55,188 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@53432aef, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:55:55,189 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3164d5aa, testMethod = testPageBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ed19b69]; rollback [true]
2019-08-10 15:55:55,233 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 0 elements
2019-08-10 15:55:55,238 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 1 elements
2019-08-10 15:55:55,242 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3164d5aa, testMethod = testPageBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:55:55,244 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2e66f1bd, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ed19b69]; rollback [true]
2019-08-10 15:55:55,248 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 15:55:55,250 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5876a9af testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2e66f1bd, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ec7ffd3 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:55:55,257 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 15:55:55,263 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:55:55,263 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 15:55:55,265 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 15:55:55,265 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 15:55:55,267 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 15:55:55,267 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 15:55:55,267 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 15:55:55,268 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 15:55:55,269 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 15:56:09,605 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestKindBusiness on DESKTOP-EAH8HBP with PID 11924 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 15:56:09,607 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 15:56:09,608 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 15:56:09,826 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:56:09,827 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 15:56:10,658 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 15:56:10,961 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 248ms. Found 7 repository interfaces.
2019-08-10 15:56:11,839 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9b3cfae9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 15:56:12,204 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 15:56:12,540 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 15:56:12,663 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 15:56:12,819 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 15:56:12,823 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 15:56:13,077 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 15:56:13,585 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 15:56:14,990 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6d771bf5'
2019-08-10 15:56:14,996 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:56:15,599 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 15:56:17,342 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 15:56:17,449 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 15:56:18,050 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: a275dc36-210a-4e91-b1b1-9aa437736662

2019-08-10 15:56:18,391 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@180121e7, org.springframework.security.web.context.SecurityContextPersistenceFilter@3737396b, org.springframework.security.web.header.HeaderWriterFilter@6c5eb26d, org.springframework.security.web.csrf.CsrfFilter@6ce4e40f, org.springframework.security.web.authentication.logout.LogoutFilter@114260a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6f872774, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@20cb266f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@50c98654, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@66a2c8e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e9022b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@fc465c6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9e93ad4, org.springframework.security.web.session.SessionManagementFilter@7084a167, org.springframework.security.web.access.ExceptionTranslationFilter@8d73ffe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b9b272d]
2019-08-10 15:56:18,586 INFO org.springframework.boot.StartupInfoLogger [main] Started TestKindBusiness in 9.494 seconds (JVM running for 11.217)
2019-08-10 15:56:18,628 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@456f7d9e testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@342815bc, testMethod = testCreateKindWithBlankName@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@75d366c2 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5851bd4f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5949eba8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@e27ba81, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@53cdecf6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7ee8994f]; rollback [true]
2019-08-10 15:56:18,751 ERROR com.bibliotheque.metier.KindBusinessImpl [main] Kind name incorrect : kind.name.blank
2019-08-10 15:56:18,759 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@456f7d9e testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@342815bc, testMethod = testCreateKindWithBlankName@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@75d366c2 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5851bd4f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5949eba8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@e27ba81, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@53cdecf6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:56:18,763 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@456f7d9e testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@2d989cc9, testMethod = testCreateKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@75d366c2 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5851bd4f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5949eba8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@e27ba81, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@53cdecf6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7ee8994f]; rollback [true]
2019-08-10 15:56:18,859 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 15:56:18,934 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@456f7d9e testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@2d989cc9, testMethod = testCreateKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@75d366c2 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5851bd4f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5949eba8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@e27ba81, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@53cdecf6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:56:18,936 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@456f7d9e testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@3fd95735, testMethod = TestGetKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@75d366c2 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5851bd4f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5949eba8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@e27ba81, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@53cdecf6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7ee8994f]; rollback [true]
2019-08-10 15:56:18,949 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 15:56:18,949 INFO com.bibliotheque.metier.KindBusinessImpl [main] get kind Test
2019-08-10 15:56:18,953 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@456f7d9e testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@3fd95735, testMethod = TestGetKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@75d366c2 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5851bd4f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5949eba8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@e27ba81, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@53cdecf6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:56:18,956 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@456f7d9e testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@25ff17d4, testMethod = TestGetListKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@75d366c2 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5851bd4f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5949eba8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@e27ba81, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@53cdecf6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7ee8994f]; rollback [true]
2019-08-10 15:56:18,959 INFO com.bibliotheque.metier.KindBusinessImpl [main] Return list of kind
2019-08-10 15:56:18,966 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@456f7d9e testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@25ff17d4, testMethod = TestGetListKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@75d366c2 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5851bd4f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5949eba8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@e27ba81, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@53cdecf6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 15:56:19,759 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 15:56:19,765 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-7] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 15:56:19,767 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-7] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 15:56:19,784 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown initiated...
2019-08-10 15:56:19,793 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown completed.
2019-08-10 16:30:32,963 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 15120 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 16:30:32,964 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 16:30:32,965 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 16:30:33,113 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:30:33,114 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:30:33,706 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 16:30:33,830 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 113ms. Found 7 repository interfaces.
2019-08-10 16:30:34,300 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$73aaa42e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 16:30:34,530 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 16:30:34,744 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 16:30:34,838 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 16:30:34,921 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 16:30:34,924 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 16:30:35,083 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 16:30:35,514 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 16:30:36,470 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@5aea8994'
2019-08-10 16:30:36,475 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:30:36,835 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 16:30:38,425 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 16:30:38,491 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 16:30:38,995 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 6a160ede-f324-449a-902f-46f637918299

2019-08-10 16:30:39,261 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cd8db31, org.springframework.security.web.context.SecurityContextPersistenceFilter@265287ec, org.springframework.security.web.header.HeaderWriterFilter@6d80e411, org.springframework.security.web.csrf.CsrfFilter@24dc150c, org.springframework.security.web.authentication.logout.LogoutFilter@41d877bb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@56f84c9b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@45f0038, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@201a8ea7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@154f8280, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7210f559, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41bdaa81, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ecf028c, org.springframework.security.web.session.SessionManagementFilter@60e67c06, org.springframework.security.web.access.ExceptionTranslationFilter@6b86826a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35d114f4]
2019-08-10 16:30:39,393 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.766 seconds (JVM running for 7.654)
2019-08-10 16:30:39,426 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6572421 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@66b40dd3, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b81ce95 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4d664323]; rollback [true]
2019-08-10 16:30:39,574 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 16:30:39,576 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 1
2019-08-10 16:30:39,580 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 1
2019-08-10 16:30:39,580 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 1
2019-08-10 16:30:39,649 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6572421 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@66b40dd3, testMethod = testCreateLoan@TestLoanBusiness, testException = javax.validation.ConstraintViolationException: Validation failed for classes [com.bibliotheque.entities.Book] during persist time for groups [javax.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='book.title.size.not.correct', propertyPath=title, rootBeanClass=class com.bibliotheque.entities.Book, messageTemplate='book.title.size.not.correct'}
], mergedContextConfiguration = [WebMergedContextConfiguration@6b81ce95 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:30:39,661 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 16:30:39,667 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:30:39,668 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 16:30:39,670 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:30:39,671 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:30:39,673 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:30:39,673 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:30:39,673 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 16:30:39,674 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 16:30:39,676 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 16:31:13,157 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 13908 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 16:31:13,158 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 16:31:13,158 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 16:31:13,304 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:31:13,305 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:31:13,881 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 16:31:14,008 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 115ms. Found 7 repository interfaces.
2019-08-10 16:31:14,489 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$79f46a1e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 16:31:14,712 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 16:31:14,920 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 16:31:15,016 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 16:31:15,097 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 16:31:15,100 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 16:31:15,257 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 16:31:15,634 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 16:31:16,570 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@66451058'
2019-08-10 16:31:16,575 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:31:16,923 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 16:31:18,589 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 16:31:18,662 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 16:31:19,165 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 442f0fb8-cc54-4c18-b04f-51d77663daf9

2019-08-10 16:31:19,427 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@454e9d65, org.springframework.security.web.context.SecurityContextPersistenceFilter@6487f7f8, org.springframework.security.web.header.HeaderWriterFilter@f0c1ae1, org.springframework.security.web.csrf.CsrfFilter@5d74507c, org.springframework.security.web.authentication.logout.LogoutFilter@7507d96c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6f9a3325, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@32caae19, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7805478c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3a1a0bc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4990b335, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c2dda7c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6807989e, org.springframework.security.web.session.SessionManagementFilter@361f26b4, org.springframework.security.web.access.ExceptionTranslationFilter@1d2d4d7a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14b48f39]
2019-08-10 16:31:19,580 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.74 seconds (JVM running for 7.626)
2019-08-10 16:31:19,620 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6572421 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7f1ad846, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b81ce95 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@e6e5da4]; rollback [true]
2019-08-10 16:31:19,768 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 16:31:19,769 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 1
2019-08-10 16:31:19,773 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 1
2019-08-10 16:31:19,774 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 1
2019-08-10 16:31:19,839 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6572421 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7f1ad846, testMethod = testCreateLoan@TestLoanBusiness, testException = javax.validation.ConstraintViolationException: Validation failed for classes [com.bibliotheque.entities.User] during persist time for groups [javax.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='user.pseudo.size.not.correct', propertyPath=pseudo, rootBeanClass=class com.bibliotheque.entities.User, messageTemplate='user.pseudo.size.not.correct'}
], mergedContextConfiguration = [WebMergedContextConfiguration@6b81ce95 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:31:19,851 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 16:31:19,857 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:31:19,858 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 16:31:19,861 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:31:19,861 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:31:19,863 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:31:19,863 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:31:19,864 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 16:31:19,864 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 16:31:19,866 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 16:31:39,609 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 12948 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 16:31:39,610 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 16:31:39,610 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 16:31:39,770 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:31:39,770 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:31:40,400 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 16:31:40,540 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 128ms. Found 7 repository interfaces.
2019-08-10 16:31:41,049 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ac49b766] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 16:31:41,299 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 16:31:41,526 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 16:31:41,627 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 16:31:41,713 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 16:31:41,716 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 16:31:41,887 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 16:31:42,273 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 16:31:43,261 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@23ad2d17'
2019-08-10 16:31:43,265 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:31:43,631 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 16:31:45,478 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 16:31:45,557 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 16:31:46,095 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: dbb0c20f-bcb9-441c-9e92-38284f8a59f8

2019-08-10 16:31:46,357 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f2544b0, org.springframework.security.web.context.SecurityContextPersistenceFilter@6b86826a, org.springframework.security.web.header.HeaderWriterFilter@cfacf0, org.springframework.security.web.csrf.CsrfFilter@65da4a5d, org.springframework.security.web.authentication.logout.LogoutFilter@41bdaa81, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4be460e5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@452ec287, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5bad555b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@37e491e2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b9fa2f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49b9ba6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41ec4271, org.springframework.security.web.session.SessionManagementFilter@45f241df, org.springframework.security.web.access.ExceptionTranslationFilter@4990b335, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f9a3325]
2019-08-10 16:31:46,505 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 7.246 seconds (JVM running for 8.173)
2019-08-10 16:31:46,547 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6572421 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@58a8ea6f, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b81ce95 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@749f61a3]; rollback [true]
2019-08-10 16:31:46,714 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 16:31:46,715 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 1
2019-08-10 16:31:46,719 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 1
2019-08-10 16:31:46,719 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 1
2019-08-10 16:31:46,807 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6572421 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@58a8ea6f, testMethod = testCreateLoan@TestLoanBusiness, testException = java.lang.AssertionError: expected:<true> but was:<false>, mergedContextConfiguration = [WebMergedContextConfiguration@6b81ce95 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:31:46,821 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 16:31:46,827 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:31:46,828 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 16:31:46,830 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:31:46,830 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:31:46,832 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:31:46,832 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:31:46,833 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 16:31:46,834 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 16:31:46,837 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 16:33:26,566 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 15340 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 16:33:26,567 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 16:33:26,568 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 16:33:26,711 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:33:26,712 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:33:27,332 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 16:33:27,468 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 125ms. Found 7 repository interfaces.
2019-08-10 16:33:27,960 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$823e72aa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 16:33:28,204 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 16:33:28,450 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 16:33:28,567 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 16:33:28,645 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 16:33:28,647 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 16:33:28,805 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 16:33:29,168 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 16:33:30,121 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@5aea8994'
2019-08-10 16:33:30,125 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:33:30,457 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 16:33:32,058 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 16:33:32,116 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 16:33:32,590 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: a1f7a5c6-71af-4bfe-8ca3-33a640c72eb3

2019-08-10 16:33:32,855 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@201a8ea7, org.springframework.security.web.context.SecurityContextPersistenceFilter@7507d96c, org.springframework.security.web.header.HeaderWriterFilter@32caae19, org.springframework.security.web.csrf.CsrfFilter@1d2d4d7a, org.springframework.security.web.authentication.logout.LogoutFilter@39c5a105, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26679788, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@289a4b90, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@ecf028c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@24f90aff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49b9ba6a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@799971ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b64bbad, org.springframework.security.web.session.SessionManagementFilter@2bc59ab7, org.springframework.security.web.access.ExceptionTranslationFilter@3c2dda7c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3684d2c0]
2019-08-10 16:33:32,996 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.791 seconds (JVM running for 7.739)
2019-08-10 16:33:33,032 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6572421 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7296fe0b, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b81ce95 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@27ec0d06]; rollback [true]
2019-08-10 16:33:33,175 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 16:33:33,210 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6572421 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7296fe0b, testMethod = testCreateLoan@TestLoanBusiness, testException = java.lang.IndexOutOfBoundsException: Index: 0, Size: 0, mergedContextConfiguration = [WebMergedContextConfiguration@6b81ce95 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:33:33,221 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 16:33:33,227 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:33:33,229 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 16:33:33,231 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:33:33,231 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:33:33,233 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:33:33,234 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:33:33,234 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 16:33:33,235 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 16:33:33,237 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 16:37:13,222 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 8012 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 16:37:13,223 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 16:37:13,224 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 16:37:13,367 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:37:13,368 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:37:13,937 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 16:37:14,062 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 115ms. Found 7 repository interfaces.
2019-08-10 16:37:14,537 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$73aaa42e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 16:37:14,757 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 16:37:14,963 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 16:37:15,056 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 16:37:15,139 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 16:37:15,143 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 16:37:15,304 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 16:37:15,664 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 16:37:16,615 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@5aea8994'
2019-08-10 16:37:16,619 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:37:16,950 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 16:37:18,590 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 16:37:18,657 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 16:37:19,130 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 88a1cb62-79a3-41a2-99ce-7a346aa83518

2019-08-10 16:37:19,348 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@201a8ea7, org.springframework.security.web.context.SecurityContextPersistenceFilter@7507d96c, org.springframework.security.web.header.HeaderWriterFilter@32caae19, org.springframework.security.web.csrf.CsrfFilter@1d2d4d7a, org.springframework.security.web.authentication.logout.LogoutFilter@39c5a105, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26679788, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@289a4b90, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@ecf028c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@24f90aff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49b9ba6a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@799971ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b64bbad, org.springframework.security.web.session.SessionManagementFilter@2bc59ab7, org.springframework.security.web.access.ExceptionTranslationFilter@3c2dda7c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3684d2c0]
2019-08-10 16:37:19,499 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.608 seconds (JVM running for 7.498)
2019-08-10 16:37:19,536 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6572421 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7296fe0b, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b81ce95 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@27ec0d06]; rollback [true]
2019-08-10 16:37:19,679 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 16:37:19,704 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 1
2019-08-10 16:37:19,707 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 1
2019-08-10 16:37:19,707 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 1
2019-08-10 16:37:19,759 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6572421 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7296fe0b, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b81ce95 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:37:19,767 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 16:37:19,772 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:37:19,773 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 16:37:19,775 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:37:19,775 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:37:19,777 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:37:19,778 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:37:19,778 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 16:37:19,779 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 16:37:19,781 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 16:42:07,600 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 5284 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 16:42:07,601 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 16:42:07,602 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 16:42:07,755 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:42:07,755 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:42:08,318 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 16:42:08,440 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 114ms. Found 7 repository interfaces.
2019-08-10 16:42:08,949 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$dc81ee95] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 16:42:09,201 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 16:42:09,409 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 16:42:09,501 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 16:42:09,581 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 16:42:09,585 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 16:42:09,749 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 16:42:10,138 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 16:42:11,093 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@4d7cac24'
2019-08-10 16:42:11,097 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:42:11,439 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 16:42:13,030 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 16:42:13,106 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 16:42:13,604 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 17074803-7a34-4764-8987-1a7c7c784655

2019-08-10 16:42:13,841 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71eff6a3, org.springframework.security.web.context.SecurityContextPersistenceFilter@7be62956, org.springframework.security.web.header.HeaderWriterFilter@410f53b2, org.springframework.security.web.csrf.CsrfFilter@f0c1ae1, org.springframework.security.web.authentication.logout.LogoutFilter@53d87b2d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5bad555b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3be46d9c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@574218f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4cd8db31, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452ec287, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@289a4b90, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@735988cf, org.springframework.security.web.session.SessionManagementFilter@7507d96c, org.springframework.security.web.access.ExceptionTranslationFilter@32caae19, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7805478c]
2019-08-10 16:42:13,982 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.7 seconds (JVM running for 7.602)
2019-08-10 16:42:14,016 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6d763516 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1191029d, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@52bf72b5 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6da646b8]; rollback [true]
2019-08-10 16:42:14,172 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 16:42:14,179 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 16:42:14,185 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6d763516 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1191029d, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@52bf72b5 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:42:14,187 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6d763516 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@188bf4d8, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@52bf72b5 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6da646b8]; rollback [true]
2019-08-10 16:42:14,190 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 16:42:14,215 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 2
2019-08-10 16:42:14,219 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 1
2019-08-10 16:42:14,219 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 2
2019-08-10 16:42:14,264 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6d763516 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@188bf4d8, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@52bf72b5 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:42:14,266 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6d763516 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@13f2d42c, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@52bf72b5 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6da646b8]; rollback [true]
2019-08-10 16:42:14,269 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-10 16:42:14,270 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 3 not correct
2019-08-10 16:42:14,272 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6d763516 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@13f2d42c, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@52bf72b5 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:42:14,274 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6d763516 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3b8d2abe, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@52bf72b5 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6da646b8]; rollback [true]
2019-08-10 16:42:14,278 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-10 16:42:14,278 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 4 not available
2019-08-10 16:42:14,281 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6d763516 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3b8d2abe, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@52bf72b5 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d76b067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e6d1014, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3b088d51, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@11438d26], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:42:14,288 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 16:42:14,294 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:42:14,294 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 16:42:14,296 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:42:14,296 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:42:14,298 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:42:14,298 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:42:14,299 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 16:42:14,300 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 16:42:14,302 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 16:52:27,295 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 11068 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 16:52:27,296 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 16:52:27,297 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 16:52:27,448 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:52:27,449 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:52:28,015 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 16:52:28,148 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 121ms. Found 7 repository interfaces.
2019-08-10 16:52:28,595 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e67da8da] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 16:52:28,814 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 16:52:29,034 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 16:52:29,122 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 16:52:29,202 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 16:52:29,204 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 16:52:29,370 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 16:52:29,791 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 16:52:30,777 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@20a3e10c'
2019-08-10 16:52:30,781 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:52:31,126 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 16:52:32,908 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 16:52:32,975 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 16:52:33,473 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: f8dd6e2c-69b5-4c88-b1b1-b01769ecd828

2019-08-10 16:52:33,725 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71eff6a3, org.springframework.security.web.context.SecurityContextPersistenceFilter@7be62956, org.springframework.security.web.header.HeaderWriterFilter@410f53b2, org.springframework.security.web.csrf.CsrfFilter@f0c1ae1, org.springframework.security.web.authentication.logout.LogoutFilter@53d87b2d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5bad555b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3be46d9c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@574218f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4cd8db31, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452ec287, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@289a4b90, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@735988cf, org.springframework.security.web.session.SessionManagementFilter@7507d96c, org.springframework.security.web.access.ExceptionTranslationFilter@32caae19, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7805478c]
2019-08-10 16:52:33,861 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.899 seconds (JVM running for 7.78)
2019-08-10 16:52:33,894 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@54b2d002, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6da646b8]; rollback [true]
2019-08-10 16:52:34,034 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 16:52:34,040 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 16:52:34,047 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@54b2d002, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:52:34,050 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@bdda8a7, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6da646b8]; rollback [true]
2019-08-10 16:52:34,054 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 16:52:34,124 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 2
2019-08-10 16:52:34,125 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 3
2019-08-10 16:52:34,125 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 2
2019-08-10 16:52:34,134 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@bdda8a7, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:52:34,136 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3d05435c, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6da646b8]; rollback [true]
2019-08-10 16:52:34,139 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 4
2019-08-10 16:52:34,139 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 3
2019-08-10 16:52:34,150 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3d05435c, testMethod = testExtendLoan@TestLoanBusiness, testException = org.junit.ComparisonFailure: expected:<[11/14]/2019> but was:<[09/27]/2019>, mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:52:34,159 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1786150f, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6da646b8]; rollback [true]
2019-08-10 16:52:34,162 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-10 16:52:34,162 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 4 not correct
2019-08-10 16:52:34,165 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1786150f, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:52:34,167 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2e4339c1, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6da646b8]; rollback [true]
2019-08-10 16:52:34,170 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 5
2019-08-10 16:52:34,170 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 5 not available
2019-08-10 16:52:34,172 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2e4339c1, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:52:34,177 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 16:52:34,182 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:52:34,183 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 16:52:34,185 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:52:34,185 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:52:34,187 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:52:34,187 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:52:34,187 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 16:52:34,188 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 16:52:34,189 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 16:56:47,102 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 3760 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 16:56:47,103 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 16:56:47,103 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 16:56:47,249 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:56:47,250 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:56:47,824 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 16:56:47,952 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 118ms. Found 7 repository interfaces.
2019-08-10 16:56:48,436 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c84de93b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 16:56:48,655 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 16:56:48,864 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 16:56:48,955 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 16:56:49,034 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 16:56:49,037 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 16:56:49,195 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 16:56:49,591 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 16:56:50,550 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@409732fb'
2019-08-10 16:56:50,554 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:56:50,908 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 16:56:52,515 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 16:56:52,581 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 16:56:53,091 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 616d762c-d2f6-4ce7-a064-a3f46331b498

2019-08-10 16:56:53,337 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@154f8280, org.springframework.security.web.context.SecurityContextPersistenceFilter@32caae19, org.springframework.security.web.header.HeaderWriterFilter@72e36677, org.springframework.security.web.csrf.CsrfFilter@181098bf, org.springframework.security.web.authentication.logout.LogoutFilter@289a4b90, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@c2e33, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2ebf524, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@24f90aff, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4f2544b0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2bc59ab7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41404aa2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7252bdb, org.springframework.security.web.session.SessionManagementFilter@3c2dda7c, org.springframework.security.web.access.ExceptionTranslationFilter@4c8abec7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@16d4024e]
2019-08-10 16:56:53,476 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.713 seconds (JVM running for 7.654)
2019-08-10 16:56:53,512 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@773c7147, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@fb5d334]; rollback [true]
2019-08-10 16:56:53,666 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 16:56:53,672 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 16:56:53,681 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@773c7147, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:56:53,684 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@625f5712, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@fb5d334]; rollback [true]
2019-08-10 16:56:53,688 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 16:56:53,749 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 2
2019-08-10 16:56:53,749 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 3
2019-08-10 16:56:53,750 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 2
2019-08-10 16:56:53,760 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@625f5712, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:56:53,762 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4a6ef712, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@fb5d334]; rollback [true]
2019-08-10 16:56:53,766 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 4
2019-08-10 16:56:53,766 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 3
2019-08-10 16:56:53,775 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4a6ef712, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:56:53,777 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3eadad14, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@fb5d334]; rollback [true]
2019-08-10 16:56:53,781 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-10 16:56:53,781 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 4 not correct
2019-08-10 16:56:53,785 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3eadad14, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:56:53,788 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@425f94d7, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@fb5d334]; rollback [true]
2019-08-10 16:56:53,792 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 5
2019-08-10 16:56:53,793 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 5 not available
2019-08-10 16:56:53,794 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@425f94d7, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:56:53,800 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 16:56:53,808 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:56:53,808 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 16:56:53,810 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:56:53,811 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:56:53,812 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:56:53,812 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:56:53,813 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 16:56:53,813 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 16:56:53,815 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 16:59:05,139 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 12188 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 16:59:05,140 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 16:59:05,141 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 16:59:05,294 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:59:05,295 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 16:59:05,883 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 16:59:05,999 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 104ms. Found 7 repository interfaces.
2019-08-10 16:59:06,472 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$10aa4fc3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 16:59:06,702 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 16:59:06,912 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 16:59:07,001 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 16:59:07,084 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 16:59:07,086 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 16:59:07,247 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 16:59:07,625 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 16:59:08,556 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@10618775'
2019-08-10 16:59:08,561 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:59:08,908 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 16:59:10,593 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 16:59:10,659 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 16:59:11,127 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: fce6a00e-b01a-4b2d-b698-84df0b62841b

2019-08-10 16:59:11,363 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25ea068e, org.springframework.security.web.context.SecurityContextPersistenceFilter@410f53b2, org.springframework.security.web.header.HeaderWriterFilter@4b9fa2f, org.springframework.security.web.csrf.CsrfFilter@3815a7d1, org.springframework.security.web.authentication.logout.LogoutFilter@3be46d9c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@37e491e2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@59c08cf1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4cd8db31, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@70aa58e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7507d96c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ebf524, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@201a8ea7, org.springframework.security.web.session.SessionManagementFilter@32caae19, org.springframework.security.web.access.ExceptionTranslationFilter@72e36677, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a1a0bc]
2019-08-10 16:59:11,513 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.692 seconds (JVM running for 7.574)
2019-08-10 16:59:11,548 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@66b40dd3, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ceb11f9]; rollback [true]
2019-08-10 16:59:11,700 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 16:59:11,706 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 16:59:11,713 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@66b40dd3, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:59:11,715 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7dd7ec56, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ceb11f9]; rollback [true]
2019-08-10 16:59:11,718 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 16:59:11,781 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 2
2019-08-10 16:59:11,782 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 3
2019-08-10 16:59:11,782 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 2
2019-08-10 16:59:11,791 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7dd7ec56, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:59:11,792 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3b8d2abe, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ceb11f9]; rollback [true]
2019-08-10 16:59:11,795 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 4
2019-08-10 16:59:11,796 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 3
2019-08-10 16:59:11,804 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3b8d2abe, testMethod = testExtendLoan@TestLoanBusiness, testException = java.lang.AssertionError: expected:<null> but was:<true>, mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:59:11,808 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@121dce2, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ceb11f9]; rollback [true]
2019-08-10 16:59:11,810 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-10 16:59:11,811 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 4 not correct
2019-08-10 16:59:11,814 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@121dce2, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:59:11,817 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@53d808ea, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ceb11f9]; rollback [true]
2019-08-10 16:59:11,820 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 5
2019-08-10 16:59:11,821 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 5 not available
2019-08-10 16:59:11,823 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@53d808ea, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 16:59:11,829 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 16:59:11,836 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 16:59:11,837 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 16:59:11,839 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:59:11,839 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:59:11,841 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 16:59:11,841 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 16:59:11,841 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 16:59:11,841 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 16:59:11,843 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 17:00:42,464 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 6052 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 17:00:42,465 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 17:00:42,465 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 17:00:42,607 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:00:42,608 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:00:43,168 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 17:00:43,299 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 119ms. Found 7 repository interfaces.
2019-08-10 17:00:43,770 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$32524fc0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 17:00:43,996 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 17:00:44,209 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 17:00:44,301 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 17:00:44,380 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 17:00:44,382 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 17:00:44,542 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 17:00:44,906 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 17:00:45,841 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@65f3e805'
2019-08-10 17:00:45,845 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:00:46,179 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 17:00:47,830 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 17:00:47,900 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 17:00:48,366 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: f3c89e7b-15ad-4214-b54a-ed3733882dda

2019-08-10 17:00:48,601 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24f90aff, org.springframework.security.web.context.SecurityContextPersistenceFilter@60e67c06, org.springframework.security.web.header.HeaderWriterFilter@6b86826a, org.springframework.security.web.csrf.CsrfFilter@632b5c79, org.springframework.security.web.authentication.logout.LogoutFilter@1a3c4b3e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31183ee2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@41bdaa81, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7252bdb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5bad555b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@410f53b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b267745, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25ea068e, org.springframework.security.web.session.SessionManagementFilter@4b9fa2f, org.springframework.security.web.access.ExceptionTranslationFilter@45f241df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@11e24688]
2019-08-10 17:00:48,748 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.627 seconds (JVM running for 7.536)
2019-08-10 17:00:48,785 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5abc5854, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@45dc7be]; rollback [true]
2019-08-10 17:00:48,927 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 17:00:48,934 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 17:00:48,944 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5abc5854, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:00:48,947 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5e62ca19, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@45dc7be]; rollback [true]
2019-08-10 17:00:48,950 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 17:00:49,005 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 2
2019-08-10 17:00:49,006 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 3
2019-08-10 17:00:49,006 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 2
2019-08-10 17:00:49,014 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5e62ca19, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:00:49,016 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3b8d2abe, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@45dc7be]; rollback [true]
2019-08-10 17:00:49,019 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 4
2019-08-10 17:00:49,023 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 3
2019-08-10 17:00:49,028 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3b8d2abe, testMethod = testExtendLoan@TestLoanBusiness, testException = java.lang.AssertionError: expected:<Thu Nov 14 17:00:49 CET 2019> but was:<true>, mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:00:49,033 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@414e8b31, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@45dc7be]; rollback [true]
2019-08-10 17:00:49,037 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-10 17:00:49,038 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 4 not correct
2019-08-10 17:00:49,041 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@414e8b31, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:00:49,044 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@ef85567, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@45dc7be]; rollback [true]
2019-08-10 17:00:49,048 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 5
2019-08-10 17:00:49,048 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 5 not available
2019-08-10 17:00:49,050 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@37afeb11 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@ef85567, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@515aebb0 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:00:49,056 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 17:00:49,063 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:00:49,063 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 17:00:49,065 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:00:49,065 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:00:49,067 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:00:49,067 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:00:49,067 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 17:00:49,068 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 17:00:49,070 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 17:02:55,636 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 10004 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 17:02:55,637 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 17:02:55,638 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 17:02:55,791 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:02:55,792 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:02:56,350 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 17:02:56,475 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 114ms. Found 7 repository interfaces.
2019-08-10 17:02:56,949 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c84de93b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 17:02:57,180 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 17:02:57,389 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 17:02:57,483 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 17:02:57,561 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 17:02:57,563 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 17:02:57,725 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 17:02:58,088 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 17:02:59,017 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@5e99e2cb'
2019-08-10 17:02:59,022 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:02:59,383 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 17:03:01,009 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 17:03:01,077 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 17:03:01,575 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 41829361-20b9-4d1c-99a0-f95d6066ec39

2019-08-10 17:03:01,823 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38968752, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ebf524, org.springframework.security.web.header.HeaderWriterFilter@30e143ff, org.springframework.security.web.csrf.CsrfFilter@2b62475a, org.springframework.security.web.authentication.logout.LogoutFilter@6cb194f5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@25ea068e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@470135da, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6294e4a6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@735988cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@799971ac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@492fa72a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13662609, org.springframework.security.web.session.SessionManagementFilter@41404aa2, org.springframework.security.web.access.ExceptionTranslationFilter@7210f559, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56f84c9b]
2019-08-10 17:03:01,963 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.67 seconds (JVM running for 7.592)
2019-08-10 17:03:01,996 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@dd8ba08 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@b849fa6, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@245b4bdc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3dded90a]; rollback [true]
2019-08-10 17:03:02,147 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 17:03:02,155 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 17:03:02,163 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@dd8ba08 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@b849fa6, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@245b4bdc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:03:02,166 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@dd8ba08 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5d3f8661, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@245b4bdc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3dded90a]; rollback [true]
2019-08-10 17:03:02,170 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 17:03:02,240 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 2
2019-08-10 17:03:02,241 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 3
2019-08-10 17:03:02,241 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 2
2019-08-10 17:03:02,251 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@dd8ba08 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5d3f8661, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@245b4bdc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:03:02,253 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@dd8ba08 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@23d060c2, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@245b4bdc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3dded90a]; rollback [true]
2019-08-10 17:03:02,257 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 4
2019-08-10 17:03:02,261 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 3
2019-08-10 17:03:02,266 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@dd8ba08 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@23d060c2, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@245b4bdc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:03:02,268 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@dd8ba08 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2a16d393, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@245b4bdc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3dded90a]; rollback [true]
2019-08-10 17:03:02,271 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-10 17:03:02,271 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 4 not correct
2019-08-10 17:03:02,274 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@dd8ba08 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2a16d393, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@245b4bdc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:03:02,278 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@dd8ba08 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7b7cf475, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@245b4bdc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3dded90a]; rollback [true]
2019-08-10 17:03:02,281 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 5
2019-08-10 17:03:02,282 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 5 not available
2019-08-10 17:03:02,285 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@dd8ba08 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7b7cf475, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@245b4bdc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:03:02,292 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 17:03:02,299 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:03:02,299 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 17:03:02,301 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:03:02,302 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:03:02,304 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:03:02,304 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:03:02,304 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 17:03:02,305 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 17:03:02,307 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 17:09:25,589 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 5180 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 17:09:25,590 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 17:09:25,591 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 17:09:25,751 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:09:25,752 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:09:26,454 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 17:09:26,597 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 127ms. Found 7 repository interfaces.
2019-08-10 17:09:27,184 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$36aa5503] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 17:09:27,437 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 17:09:27,669 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 17:09:27,765 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 17:09:27,859 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 17:09:27,864 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 17:09:28,046 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 17:09:28,478 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 17:09:29,546 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@63917fe1'
2019-08-10 17:09:29,552 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:09:30,067 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 17:09:31,985 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 17:09:32,057 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 17:09:32,534 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 803da485-7b6c-4ff0-aed0-3ddb344f70a1

2019-08-10 17:09:32,798 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13662609, org.springframework.security.web.context.SecurityContextPersistenceFilter@799971ac, org.springframework.security.web.header.HeaderWriterFilter@41404aa2, org.springframework.security.web.csrf.CsrfFilter@624d778e, org.springframework.security.web.authentication.logout.LogoutFilter@74f649a7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@201a8ea7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5f68eec6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@27a0e6ce, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@236a4d30, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45f0038, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53d87b2d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b80497f, org.springframework.security.web.session.SessionManagementFilter@31e22365, org.springframework.security.web.access.ExceptionTranslationFilter@7be62956, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5cdda548]
2019-08-10 17:09:32,942 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 7.682 seconds (JVM running for 8.56)
2019-08-10 17:09:32,977 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4e9ea32f, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 17:09:33,143 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 17:09:33,150 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 17:09:33,159 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4e9ea32f, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:09:33,162 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4b5aa48b, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 17:09:33,166 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 2 late for extention
2019-08-10 17:09:33,168 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4b5aa48b, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:09:33,170 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7165bde6, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 17:09:33,172 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] utilisateur id 50 not correct
2019-08-10 17:09:33,175 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7165bde6, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:09:33,177 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@390a07a0, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 17:09:33,181 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-10 17:09:33,250 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 4
2019-08-10 17:09:33,251 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 5
2019-08-10 17:09:33,251 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 4
2019-08-10 17:09:33,260 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@390a07a0, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:09:33,264 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@61bf405d, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 17:09:33,268 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 6 already in extention
2019-08-10 17:09:33,271 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@61bf405d, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:09:33,273 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3f3a6091, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 17:09:33,281 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 7
2019-08-10 17:09:33,287 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 6
2019-08-10 17:09:33,292 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3f3a6091, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:09:33,293 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@50c2ef56, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 17:09:33,296 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 7
2019-08-10 17:09:33,297 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 7 not correct
2019-08-10 17:09:33,300 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@50c2ef56, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:09:33,302 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5fafa76d, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 17:09:33,306 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan id 50 not correct
2019-08-10 17:09:33,309 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5fafa76d, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:09:33,311 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3664c596, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 17:09:33,315 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-10 17:09:33,315 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 9 not available
2019-08-10 17:09:33,318 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@222545dc testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3664c596, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5c5eefef testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:09:33,326 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 17:09:33,331 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:09:33,332 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 17:09:33,333 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:09:33,334 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:09:33,335 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:09:33,336 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:09:33,337 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 17:09:33,338 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 17:09:33,341 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 17:16:51,170 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 360 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 17:16:51,171 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 17:16:51,172 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 17:16:51,331 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:16:51,331 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:16:51,897 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 17:16:52,021 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 115ms. Found 7 repository interfaces.
2019-08-10 17:16:52,552 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$321d4270] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 17:16:52,784 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 17:16:53,001 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 17:16:53,095 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 17:16:53,181 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 17:16:53,182 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 17:16:53,347 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 17:16:53,734 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 17:16:54,698 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@2776fd8f'
2019-08-10 17:16:54,702 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:16:55,052 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 17:16:56,753 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 17:16:56,828 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 17:16:57,313 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 54047310-6c1e-401b-85ba-84e3346eb1b3

2019-08-10 17:16:57,553 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a4cbcc6, org.springframework.security.web.context.SecurityContextPersistenceFilter@492fa72a, org.springframework.security.web.header.HeaderWriterFilter@1a3c4b3e, org.springframework.security.web.csrf.CsrfFilter@4b9fa2f, org.springframework.security.web.authentication.logout.LogoutFilter@3dc2f14, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@38968752, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@58b5f7d2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7cecab19, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c36051c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53d87b2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@308c65e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56402642, org.springframework.security.web.session.SessionManagementFilter@3be46d9c, org.springframework.security.web.access.ExceptionTranslationFilter@59c08cf1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4cd8db31]
2019-08-10 17:16:57,696 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.858 seconds (JVM running for 7.79)
2019-08-10 17:16:57,735 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@d271a54, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1607d391]; rollback [true]
2019-08-10 17:16:57,882 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-10 17:16:57,889 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 17:16:57,896 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@d271a54, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:16:57,899 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7165bde6, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1607d391]; rollback [true]
2019-08-10 17:16:57,903 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 2 late for extention
2019-08-10 17:16:57,905 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7165bde6, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:16:57,907 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@390a07a0, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1607d391]; rollback [true]
2019-08-10 17:16:57,910 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] utilisateur id 50 not correct
2019-08-10 17:16:57,913 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@390a07a0, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:16:57,915 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4a29fe2e, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1607d391]; rollback [true]
2019-08-10 17:16:57,955 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 4
2019-08-10 17:16:57,955 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 4
2019-08-10 17:16:57,958 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4a29fe2e, testMethod = testReturnLoan@TestLoanBusiness, testException = java.lang.AssertionError: expected:<2> but was:<1>, mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:16:57,964 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@40b70f31, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1607d391]; rollback [true]
2019-08-10 17:16:57,966 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 5
2019-08-10 17:16:58,007 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 5
2019-08-10 17:16:58,008 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 6
2019-08-10 17:16:58,008 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 5
2019-08-10 17:16:58,017 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@40b70f31, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:16:58,019 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5383bf08, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1607d391]; rollback [true]
2019-08-10 17:16:58,022 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 7 already in extention
2019-08-10 17:16:58,025 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5383bf08, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:16:58,027 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@35d0749, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1607d391]; rollback [true]
2019-08-10 17:16:58,030 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 8
2019-08-10 17:16:58,036 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 7
2019-08-10 17:16:58,041 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@35d0749, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:16:58,043 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@a1b7549, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1607d391]; rollback [true]
2019-08-10 17:16:58,047 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 8
2019-08-10 17:16:58,048 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 8 not correct
2019-08-10 17:16:58,050 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@a1b7549, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:16:58,052 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6bc62bb9, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1607d391]; rollback [true]
2019-08-10 17:16:58,056 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan id 50 not correct
2019-08-10 17:16:58,059 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6bc62bb9, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:16:58,060 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4738131e, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1607d391]; rollback [true]
2019-08-10 17:16:58,064 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 10
2019-08-10 17:16:58,064 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 10 not available
2019-08-10 17:16:58,066 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4738131e, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:16:58,074 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 17:16:58,080 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:16:58,081 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 17:16:58,083 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:16:58,084 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:16:58,085 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:16:58,086 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:16:58,086 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 17:16:58,086 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 17:16:58,088 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 17:28:22,295 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 244 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 17:28:22,296 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 17:28:22,297 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 17:28:22,448 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:28:22,448 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:28:23,041 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 17:28:23,153 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 101ms. Found 7 repository interfaces.
2019-08-10 17:28:23,601 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e93eddf1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 17:28:23,810 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 17:28:24,017 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 17:28:24,108 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 17:28:24,186 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 17:28:24,189 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 17:28:24,350 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 17:28:24,745 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 17:28:25,695 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@2c60ce47'
2019-08-10 17:28:25,700 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:28:26,087 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 17:28:27,737 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 17:28:27,804 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 17:28:28,333 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 84e344d5-94b4-4e3a-81a4-9c54c9815d18

2019-08-10 17:28:28,589 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27a0e6ce, org.springframework.security.web.context.SecurityContextPersistenceFilter@59c08cf1, org.springframework.security.web.header.HeaderWriterFilter@b267745, org.springframework.security.web.csrf.CsrfFilter@39ae6408, org.springframework.security.web.authentication.logout.LogoutFilter@308c65e0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@ecf028c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4ff9f715, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2b80497f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@736788b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@289a4b90, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@470135da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ef4297d, org.springframework.security.web.session.SessionManagementFilter@2ebf524, org.springframework.security.web.access.ExceptionTranslationFilter@30e143ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f2544b0]
2019-08-10 17:28:28,740 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.774 seconds (JVM running for 7.659)
2019-08-10 17:28:28,781 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@56ba8e8c, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77a9ac36]; rollback [true]
2019-08-10 17:28:29,009 INFO com.bibliotheque.metier.MailBusinessImpl [main] Get mail for user ID 1
2019-08-10 17:28:29,019 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@56ba8e8c, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = java.lang.NullPointerException, mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:28:29,025 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@23d060c2, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77a9ac36]; rollback [true]
2019-08-10 17:28:29,029 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 17:28:29,035 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 17:28:29,037 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@23d060c2, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:28:29,039 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@740ad32e, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77a9ac36]; rollback [true]
2019-08-10 17:28:29,042 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 3
2019-08-10 17:28:29,045 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@740ad32e, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = java.lang.AssertionError: Expected exception: com.bibliotheque.exception.BibliothequeException, mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:28:29,048 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@121dce2, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77a9ac36]; rollback [true]
2019-08-10 17:28:29,051 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] utilisateur id 50 not correct
2019-08-10 17:28:29,054 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@121dce2, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:28:29,055 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@414e8b31, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77a9ac36]; rollback [true]
2019-08-10 17:28:29,058 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 5
2019-08-10 17:28:29,059 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 5
2019-08-10 17:28:29,061 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@414e8b31, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:28:29,063 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@44864ebe, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77a9ac36]; rollback [true]
2019-08-10 17:28:29,065 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 6
2019-08-10 17:28:29,070 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 6
2019-08-10 17:28:29,070 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 7
2019-08-10 17:28:29,070 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 6
2019-08-10 17:28:29,073 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@44864ebe, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:28:29,074 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@71df5f30, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77a9ac36]; rollback [true]
2019-08-10 17:28:29,077 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 8 already in extention
2019-08-10 17:28:29,080 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@71df5f30, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:28:29,081 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@40aad17d, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77a9ac36]; rollback [true]
2019-08-10 17:28:29,084 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 9
2019-08-10 17:28:29,088 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 8
2019-08-10 17:28:29,093 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@40aad17d, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:28:29,094 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@306c9b2c, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77a9ac36]; rollback [true]
2019-08-10 17:28:29,097 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-10 17:28:29,097 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 9 not correct
2019-08-10 17:28:29,099 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@306c9b2c, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:28:29,100 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@287317df, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77a9ac36]; rollback [true]
2019-08-10 17:28:29,104 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan id 50 not correct
2019-08-10 17:28:29,106 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@287317df, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:28:29,107 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@571db8b4, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@77a9ac36]; rollback [true]
2019-08-10 17:28:29,110 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-10 17:28:29,110 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 11 not available
2019-08-10 17:28:29,112 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5158b42f testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@571db8b4, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@595b007d testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4f063c0a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@614ddd49, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@74650e52, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a1ebcd8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:28:29,120 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 17:28:29,127 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:28:29,127 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 17:28:29,129 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:28:29,129 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:28:29,131 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:28:29,132 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:28:29,132 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 17:28:29,132 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 17:28:29,134 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 17:33:04,473 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 13344 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 17:33:04,474 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 17:33:04,474 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 17:33:04,626 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:33:04,627 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:33:05,199 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 17:33:05,320 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 111ms. Found 7 repository interfaces.
2019-08-10 17:33:05,796 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6ed9fda7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 17:33:06,032 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 17:33:06,242 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 17:33:06,329 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 17:33:06,409 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 17:33:06,412 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 17:33:06,568 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 17:33:06,972 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 17:33:07,909 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@4466cf5d'
2019-08-10 17:33:07,914 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:33:08,275 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 17:33:09,964 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 17:33:10,029 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 17:33:10,512 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 8e6a0773-ebf0-48cf-99ae-9e6426758660

2019-08-10 17:33:10,748 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c36051c, org.springframework.security.web.context.SecurityContextPersistenceFilter@4746fb8c, org.springframework.security.web.header.HeaderWriterFilter@799971ac, org.springframework.security.web.csrf.CsrfFilter@f36f34d, org.springframework.security.web.authentication.logout.LogoutFilter@bc52a41, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@735988cf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@74f649a7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@45d46254, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@27a0e6ce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41d877bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@118a4d5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a240452, org.springframework.security.web.session.SessionManagementFilter@45f0038, org.springframework.security.web.access.ExceptionTranslationFilter@31e22365, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@154f8280]
2019-08-10 17:33:10,891 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 6.744 seconds (JVM running for 7.62)
2019-08-10 17:33:10,936 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@40ddf339, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eb6037d]; rollback [true]
2019-08-10 17:33:11,196 INFO com.bibliotheque.metier.MailBusinessImpl [main] Get mail for user ID 1
2019-08-10 17:33:11,200 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Send Email for reservation 1
2019-08-10 17:33:11,201 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 1
2019-08-10 17:33:11,212 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@40ddf339, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:33:11,216 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@639948a2, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eb6037d]; rollback [true]
2019-08-10 17:33:11,220 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 17:33:11,226 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 17:33:11,229 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@639948a2, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:33:11,233 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2a16d393, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eb6037d]; rollback [true]
2019-08-10 17:33:11,237 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 3 late for extention
2019-08-10 17:33:11,240 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2a16d393, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:33:11,242 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4e3ffd0, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eb6037d]; rollback [true]
2019-08-10 17:33:11,245 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] utilisateur id 50 not correct
2019-08-10 17:33:11,249 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4e3ffd0, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:33:11,252 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1c2fb9e8, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eb6037d]; rollback [true]
2019-08-10 17:33:11,259 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 5
2019-08-10 17:33:11,260 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 5
2019-08-10 17:33:11,263 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1c2fb9e8, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:33:11,265 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@54ae1240, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eb6037d]; rollback [true]
2019-08-10 17:33:11,268 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 6
2019-08-10 17:33:11,274 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 6
2019-08-10 17:33:11,275 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 7
2019-08-10 17:33:11,275 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 6
2019-08-10 17:33:11,278 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@54ae1240, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:33:11,281 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6eab92f3, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eb6037d]; rollback [true]
2019-08-10 17:33:11,284 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 8 already in extention
2019-08-10 17:33:11,287 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6eab92f3, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:33:11,289 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6315bb4, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eb6037d]; rollback [true]
2019-08-10 17:33:11,292 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 9
2019-08-10 17:33:11,296 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 8
2019-08-10 17:33:11,301 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6315bb4, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:33:11,303 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5972e3a, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eb6037d]; rollback [true]
2019-08-10 17:33:11,308 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-10 17:33:11,308 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 9 not correct
2019-08-10 17:33:11,311 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5972e3a, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:33:11,313 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4e671ef, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eb6037d]; rollback [true]
2019-08-10 17:33:11,318 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan id 50 not correct
2019-08-10 17:33:11,321 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4e671ef, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:33:11,323 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@e67d3b7, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eb6037d]; rollback [true]
2019-08-10 17:33:11,328 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-10 17:33:11,329 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 11 not available
2019-08-10 17:33:11,332 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@595b007d testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@e67d3b7, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72d1ad2e testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:33:11,340 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 17:33:11,346 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:33:11,347 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 17:33:11,348 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:33:11,349 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:33:11,351 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 17:33:11,351 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 17:33:11,352 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 17:33:11,352 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 17:33:11,355 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 17:33:57,791 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 12280 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 17:33:57,793 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 17:33:57,794 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 17:33:58,007 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:33:58,008 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:33:58,750 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 17:33:58,909 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 143ms. Found 7 repository interfaces.
2019-08-10 17:33:59,687 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$87078052] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 17:34:00,029 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 17:34:00,385 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 17:34:00,525 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 17:34:00,653 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 17:34:00,656 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 17:34:00,866 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 17:34:01,368 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 17:34:02,751 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@3ecffcd1'
2019-08-10 17:34:02,757 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:34:03,314 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 17:34:05,129 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 17:34:05,231 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 17:34:05,784 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 9150cc0d-5b37-4faf-bc8d-7edf92d69d3f

2019-08-10 17:34:06,070 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d66f729, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fbefb6f, org.springframework.security.web.header.HeaderWriterFilter@777ac8f0, org.springframework.security.web.csrf.CsrfFilter@a733ed, org.springframework.security.web.authentication.logout.LogoutFilter@5218b3ed, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2dff99c1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3e0e57ef, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@77394bf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3123ea3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34a765cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70fd618a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ca82bff, org.springframework.security.web.session.SessionManagementFilter@4abe163f, org.springframework.security.web.access.ExceptionTranslationFilter@5ce6fcd4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@802c3e1]
2019-08-10 17:34:06,226 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 8.92 seconds (JVM running for 10.638)
2019-08-10 17:34:06,273 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@70f8a06d, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6a86c9c9]; rollback [true]
2019-08-10 17:34:06,578 INFO com.bibliotheque.metier.MailBusinessImpl [main] Get mail for user ID 1
2019-08-10 17:34:06,582 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Send Email for reservation 1
2019-08-10 17:34:06,583 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 1
2019-08-10 17:34:06,599 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@70f8a06d, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:34:06,602 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3fde4486, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6a86c9c9]; rollback [true]
2019-08-10 17:34:06,606 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 17:34:06,613 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 17:34:06,615 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3fde4486, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:34:06,620 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1259226e, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6a86c9c9]; rollback [true]
2019-08-10 17:34:06,625 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 3 late for extention
2019-08-10 17:34:06,628 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1259226e, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:34:06,631 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7d5d4e54, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6a86c9c9]; rollback [true]
2019-08-10 17:34:06,635 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] utilisateur id 50 not correct
2019-08-10 17:34:06,639 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7d5d4e54, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:34:06,641 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5859c062, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6a86c9c9]; rollback [true]
2019-08-10 17:34:06,647 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 5
2019-08-10 17:34:06,649 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 5
2019-08-10 17:34:06,652 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5859c062, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:34:06,654 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@140d41f9, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6a86c9c9]; rollback [true]
2019-08-10 17:34:06,659 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 6
2019-08-10 17:34:06,668 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 6
2019-08-10 17:34:06,669 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 7
2019-08-10 17:34:06,669 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 6
2019-08-10 17:34:06,673 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@140d41f9, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:34:06,676 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@624b7b0a, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6a86c9c9]; rollback [true]
2019-08-10 17:34:06,681 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 8 already in extention
2019-08-10 17:34:06,684 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@624b7b0a, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:34:06,686 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7d87f451, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6a86c9c9]; rollback [true]
2019-08-10 17:34:06,706 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 9
2019-08-10 17:34:06,713 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 8
2019-08-10 17:34:06,719 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7d87f451, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:34:06,721 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2a9248a6, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6a86c9c9]; rollback [true]
2019-08-10 17:34:06,727 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-10 17:34:06,728 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 9 not correct
2019-08-10 17:34:06,730 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2a9248a6, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:34:06,732 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@77cc16f4, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6a86c9c9]; rollback [true]
2019-08-10 17:34:06,737 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan id 50 not correct
2019-08-10 17:34:06,740 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@77cc16f4, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:34:06,742 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2b754728, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6a86c9c9]; rollback [true]
2019-08-10 17:34:06,748 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-10 17:34:06,749 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 11 not available
2019-08-10 17:34:06,752 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6b321262 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2b754728, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@68b11545 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1bc53649, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3c321bdb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31198ceb, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5c09d180], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:34:06,761 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 17:34:06,768 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-7] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:34:06,769 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-7] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 17:34:07,404 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown initiated...
2019-08-10 17:34:07,408 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown completed.
2019-08-10 17:37:10,639 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 12948 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 17:37:10,640 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 17:37:10,641 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 17:37:10,859 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:37:10,861 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 17:37:11,659 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 17:37:11,824 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 146ms. Found 7 repository interfaces.
2019-08-10 17:37:12,483 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1efcb692] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 17:37:12,786 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 17:37:13,099 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 17:37:13,222 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 17:37:13,340 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 17:37:13,345 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 17:37:13,569 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 17:37:14,041 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 17:37:15,406 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@2050567a'
2019-08-10 17:37:15,411 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:37:15,978 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 17:37:17,706 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 17:37:17,801 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 17:37:18,346 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 7e41b265-aff4-4a2e-a7f1-aca1a01696d0

2019-08-10 17:37:18,670 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@778bea9, org.springframework.security.web.context.SecurityContextPersistenceFilter@777ac8f0, org.springframework.security.web.header.HeaderWriterFilter@200a08c3, org.springframework.security.web.csrf.CsrfFilter@4332e7ff, org.springframework.security.web.authentication.logout.LogoutFilter@65a4edcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@c2323d1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@60f7b13b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@43d85b0d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3dba570b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4abe163f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a2cd854, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70374d0f, org.springframework.security.web.session.SessionManagementFilter@5ce6fcd4, org.springframework.security.web.access.ExceptionTranslationFilter@6fba4967, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1c1b5ba3]
2019-08-10 17:37:18,860 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 8.723 seconds (JVM running for 10.605)
2019-08-10 17:37:18,904 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3d8ad7bd, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@18b4140b]; rollback [true]
2019-08-10 17:37:19,232 INFO com.bibliotheque.metier.MailBusinessImpl [main] Get mail for user ID 1
2019-08-10 17:37:19,236 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Send Email for reservation 1
2019-08-10 17:37:19,238 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 1
2019-08-10 17:37:19,251 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3d8ad7bd, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:37:19,255 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7598edae, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@18b4140b]; rollback [true]
2019-08-10 17:37:19,260 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 17:37:19,267 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 17:37:19,271 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7598edae, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:37:19,275 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6fca8ac7, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@18b4140b]; rollback [true]
2019-08-10 17:37:19,280 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 3 late for extention
2019-08-10 17:37:19,283 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6fca8ac7, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:37:19,285 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4ad3f425, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@18b4140b]; rollback [true]
2019-08-10 17:37:19,290 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] utilisateur id 50 not correct
2019-08-10 17:37:19,293 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4ad3f425, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:37:19,294 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7aaca189, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@18b4140b]; rollback [true]
2019-08-10 17:37:19,300 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 5
2019-08-10 17:37:19,301 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 5
2019-08-10 17:37:19,304 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7aaca189, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:37:19,306 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3887d347, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@18b4140b]; rollback [true]
2019-08-10 17:37:19,309 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 6
2019-08-10 17:37:19,316 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 6
2019-08-10 17:37:19,317 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 7
2019-08-10 17:37:19,317 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 6
2019-08-10 17:37:19,320 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3887d347, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:37:19,322 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@483610f3, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@18b4140b]; rollback [true]
2019-08-10 17:37:19,326 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 8 already in extention
2019-08-10 17:37:19,328 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@483610f3, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:37:19,330 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1eda2eec, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@18b4140b]; rollback [true]
2019-08-10 17:37:19,334 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 9
2019-08-10 17:37:19,341 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 8
2019-08-10 17:37:19,346 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1eda2eec, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:37:19,348 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@318050, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@18b4140b]; rollback [true]
2019-08-10 17:37:19,352 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-10 17:37:19,353 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 9 not correct
2019-08-10 17:37:19,355 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@318050, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:37:19,356 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3b78842b, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@18b4140b]; rollback [true]
2019-08-10 17:37:19,361 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan id 50 not correct
2019-08-10 17:37:19,363 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3b78842b, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:37:19,365 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@73bc62ca, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@18b4140b]; rollback [true]
2019-08-10 17:37:19,369 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-10 17:37:19,371 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 11 not available
2019-08-10 17:37:19,373 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@4ea17147 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@73bc62ca, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2eda4eeb testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@751e664e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@aa5455e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a9c84a5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 17:37:19,381 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 17:37:19,391 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-7] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 17:37:19,392 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-7] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 17:37:19,940 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown initiated...
2019-08-10 17:37:19,944 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown completed.
2019-08-10 19:17:14,027 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 8492 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 19:17:14,029 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 19:17:14,030 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 19:17:14,188 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 19:17:14,191 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 19:17:14,838 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 19:17:14,976 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 125ms. Found 7 repository interfaces.
2019-08-10 19:17:15,475 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$321d4270] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 19:17:15,692 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 19:17:15,937 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 19:17:16,055 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 19:17:16,149 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 19:17:16,152 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 19:17:16,327 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 19:17:16,755 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 19:17:17,977 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@59328218'
2019-08-10 19:17:17,979 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 19:17:18,390 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 19:17:20,369 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 19:17:20,453 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 19:17:20,976 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 924100ea-a574-403d-b0a2-749c466dbcfe

2019-08-10 19:17:21,347 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c000cc4, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a3c4b3e, org.springframework.security.web.header.HeaderWriterFilter@41bdaa81, org.springframework.security.web.csrf.CsrfFilter@45f241df, org.springframework.security.web.authentication.logout.LogoutFilter@58b5f7d2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@574218f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@74b7497b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6c36051c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13662609, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3be46d9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ff9f715, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45d46254, org.springframework.security.web.session.SessionManagementFilter@59c08cf1, org.springframework.security.web.access.ExceptionTranslationFilter@b267745, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@70aa58e1]
2019-08-10 19:17:21,565 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 7.902 seconds (JVM running for 8.876)
2019-08-10 19:17:21,621 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@55f6f965, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:21,967 INFO com.bibliotheque.metier.MailBusinessImpl [main] Get mail for user ID 1
2019-08-10 19:17:21,973 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Send Email for reservation 1
2019-08-10 19:17:21,976 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 1
2019-08-10 19:17:21,995 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@55f6f965, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,001 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@24955144, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:22,007 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 19:17:22,016 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 19:17:22,019 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@24955144, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,027 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1786150f, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:22,032 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 3 late for extention
2019-08-10 19:17:22,039 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1786150f, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,042 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5f803481, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:22,046 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] utilisateur id 50 not correct
2019-08-10 19:17:22,049 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5f803481, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,052 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@35d0749, testMethod = testGetListLoanLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:22,057 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan late
2019-08-10 19:17:22,071 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan late for user id 5
2019-08-10 19:17:22,084 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@35d0749, testMethod = testGetListLoanLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,087 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@701c482e, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:22,096 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 9
2019-08-10 19:17:22,096 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 9
2019-08-10 19:17:22,100 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@701c482e, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,103 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@52d9f36b, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:22,107 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 8
2019-08-10 19:17:22,118 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 7
2019-08-10 19:17:22,120 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 11
2019-08-10 19:17:22,121 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 10
2019-08-10 19:17:22,125 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@52d9f36b, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,125 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@28295554, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:22,134 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 12 already in extention
2019-08-10 19:17:22,138 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@28295554, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,141 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@60ee7a51, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:22,146 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 13
2019-08-10 19:17:22,153 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 10
2019-08-10 19:17:22,165 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@60ee7a51, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,168 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3e61cffd, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:22,178 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-10 19:17:22,178 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 10 not correct
2019-08-10 19:17:22,181 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3e61cffd, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,183 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4822ab4d, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:22,189 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan id 50 not correct
2019-08-10 19:17:22,191 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4822ab4d, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,194 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1be52113, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2444c3df]; rollback [true]
2019-08-10 19:17:22,202 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 13
2019-08-10 19:17:22,203 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 12 not available
2019-08-10 19:17:22,206 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1be52113, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6d1014, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1f554b06, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15d0c81b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5faeada1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:22,218 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 19:17:22,226 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 19:17:22,226 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 19:17:22,229 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 19:17:22,229 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 19:17:22,231 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 19:17:22,232 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 19:17:22,232 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 19:17:22,232 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 19:17:22,234 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 19:17:37,601 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestLoanBusiness on DESKTOP-EAH8HBP with PID 2856 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 19:17:37,604 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 19:17:37,604 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 19:17:37,836 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 19:17:37,839 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 19:17:38,690 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 19:17:38,843 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 141ms. Found 7 repository interfaces.
2019-08-10 19:17:39,610 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8abb5724] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 19:17:39,968 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 19:17:40,331 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 19:17:40,497 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 19:17:40,651 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 19:17:40,656 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 19:17:40,890 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 19:17:41,395 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 19:17:42,789 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@1a6a3a0f'
2019-08-10 19:17:42,792 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 19:17:43,548 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 19:17:45,389 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 19:17:45,480 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 19:17:46,025 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 7c468b2e-e34a-4d8e-a6ee-2fe1bb70e303

2019-08-10 19:17:46,311 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@364c82eb, org.springframework.security.web.context.SecurityContextPersistenceFilter@c444c9a, org.springframework.security.web.header.HeaderWriterFilter@4262d84f, org.springframework.security.web.csrf.CsrfFilter@69dd8850, org.springframework.security.web.authentication.logout.LogoutFilter@1cb946f6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70374d0f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@224dc1ec, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7a692d4b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@65c2769e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53939b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2dfdf550, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3441805a, org.springframework.security.web.session.SessionManagementFilter@7c6230d, org.springframework.security.web.access.ExceptionTranslationFilter@7a1b00d2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31f70e17]
2019-08-10 19:17:46,500 INFO org.springframework.boot.StartupInfoLogger [main] Started TestLoanBusiness in 9.421 seconds (JVM running for 11.345)
2019-08-10 19:17:46,551 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3c101208, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:46,891 INFO com.bibliotheque.metier.MailBusinessImpl [main] Get mail for user ID 1
2019-08-10 19:17:46,894 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Send Email for reservation 1
2019-08-10 19:17:46,898 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 1
2019-08-10 19:17:46,912 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3c101208, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:46,916 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@f38a01b, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:46,920 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 19:17:46,925 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 19:17:46,928 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@f38a01b, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:46,934 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@58bf6cb6, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:46,936 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 3 late for extention
2019-08-10 19:17:46,938 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@58bf6cb6, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:46,941 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3887d347, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:46,945 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] utilisateur id 50 not correct
2019-08-10 19:17:46,948 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3887d347, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:46,950 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@756580b8, testMethod = testGetListLoanLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:46,956 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan late
2019-08-10 19:17:46,967 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan late for user id 5
2019-08-10 19:17:46,972 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@756580b8, testMethod = testGetListLoanLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:46,975 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5e6aeb2b, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:46,980 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 9
2019-08-10 19:17:46,981 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 9
2019-08-10 19:17:46,984 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5e6aeb2b, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:46,985 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@10efe4b8, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:46,989 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 8
2019-08-10 19:17:46,996 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 7
2019-08-10 19:17:46,997 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 11
2019-08-10 19:17:46,997 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 10
2019-08-10 19:17:47,000 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@10efe4b8, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:47,002 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@44ec9f11, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:47,006 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 12 already in extention
2019-08-10 19:17:47,009 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@44ec9f11, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:47,011 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@704cf33e, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:47,015 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 13
2019-08-10 19:17:47,022 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 10
2019-08-10 19:17:47,027 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@704cf33e, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:47,030 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@255e60c6, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:47,033 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-10 19:17:47,033 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 10 not correct
2019-08-10 19:17:47,035 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@255e60c6, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:47,037 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3770aeef, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:47,041 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan id 50 not correct
2019-08-10 19:17:47,045 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3770aeef, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:47,046 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3d62bdf8, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d6b4298]; rollback [true]
2019-08-10 19:17:47,051 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 13
2019-08-10 19:17:47,052 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 12 not available
2019-08-10 19:17:47,054 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@35dece42 testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3d62bdf8, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@dd3f8aa testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c321bdb, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1a38ba58, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5a6d5a8f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ceb4bd2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:17:47,700 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 19:17:47,707 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-7] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 19:17:47,708 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-7] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 19:17:47,722 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown initiated...
2019-08-10 19:17:47,725 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown completed.
2019-08-10 19:20:38,318 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestBookBusiness on DESKTOP-EAH8HBP with PID 4772 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 19:20:38,320 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 19:20:38,321 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 19:20:38,510 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 19:20:38,510 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 19:20:39,223 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 19:20:39,363 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 125ms. Found 7 repository interfaces.
2019-08-10 19:20:40,113 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8de7eb6e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 19:20:40,416 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 19:20:40,691 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 19:20:40,813 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 19:20:40,940 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 19:20:40,948 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 19:20:41,181 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 19:20:41,972 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 19:20:43,299 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@296fc593'
2019-08-10 19:20:43,302 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 19:20:43,863 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 19:20:45,493 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 19:20:45,584 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 19:20:46,093 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 5e3fdba3-9844-4d6f-bcce-4c73f5db4d54

2019-08-10 19:20:46,408 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e4b5f3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@36d1ecdc, org.springframework.security.web.header.HeaderWriterFilter@4dd914a, org.springframework.security.web.csrf.CsrfFilter@1a69706a, org.springframework.security.web.authentication.logout.LogoutFilter@5e3c1e7a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@a206dc5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@66a2c8e7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7f244101, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@27fa0228, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4803224a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ec497f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15c8ce01, org.springframework.security.web.session.SessionManagementFilter@3ddb8be5, org.springframework.security.web.access.ExceptionTranslationFilter@2c6f62c0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@300a822d]
2019-08-10 19:20:46,555 INFO org.springframework.boot.StartupInfoLogger [main] Started TestBookBusiness in 8.763 seconds (JVM running for 10.439)
2019-08-10 19:20:46,600 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@594a0b81, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:46,772 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 5 not correct
2019-08-10 19:20:46,781 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@594a0b81, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:46,786 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@271ba7ca, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:46,788 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 19:20:46,852 INFO com.bibliotheque.metier.BookBusinessImpl [main] update book 2
2019-08-10 19:20:46,853 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 19:20:46,855 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@271ba7ca, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:46,857 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@47c62a8a, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:46,862 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-10 19:20:46,862 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 19:20:46,865 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@47c62a8a, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:46,867 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@387bbc59, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:46,869 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-10 19:20:46,872 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@387bbc59, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:46,873 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@30a55e00, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:46,876 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-10 19:20:46,902 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyAvailable incorrect : book.copyAvailable.value.not.correct
2019-08-10 19:20:46,906 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@30a55e00, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:46,908 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1146374f, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:46,911 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 3 not correct
2019-08-10 19:20:46,915 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1146374f, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:46,917 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2ce934a2, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:46,940 INFO com.bibliotheque.metier.BookBusinessImpl [main] Create book7
2019-08-10 19:20:46,941 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-10 19:20:46,943 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2ce934a2, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:46,945 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4371142f, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:46,947 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 8
2019-08-10 19:20:46,968 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyTotals incorrect : book.copyTotals.value.not.correct
2019-08-10 19:20:46,970 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4371142f, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:46,972 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@136585ac, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:46,974 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success set disable to book9
2019-08-10 19:20:46,978 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@136585ac, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:46,980 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@5660586, testMethod = testPageBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,028 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 0 elements
2019-08-10 19:20:47,034 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 1 elements
2019-08-10 19:20:47,039 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@5660586, testMethod = testPageBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,040 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@292545d3, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,042 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 19:20:47,045 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@7d42404e testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@292545d3, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6af5b246 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,048 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@2c53c465 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@429c2f09, testMethod = testCreateKindWithBlankName@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528c9d31 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,056 ERROR com.bibliotheque.metier.KindBusinessImpl [main] Kind name incorrect : kind.name.blank
2019-08-10 19:20:47,060 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@2c53c465 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@429c2f09, testMethod = testCreateKindWithBlankName@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528c9d31 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,061 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@2c53c465 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@25f7f072, testMethod = testCreateKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528c9d31 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,070 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 19:20:47,124 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@2c53c465 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@25f7f072, testMethod = testCreateKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528c9d31 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,126 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@2c53c465 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@c39bb54, testMethod = TestGetKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528c9d31 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,139 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-10 19:20:47,139 INFO com.bibliotheque.metier.KindBusinessImpl [main] get kind Test
2019-08-10 19:20:47,140 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@2c53c465 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@c39bb54, testMethod = TestGetKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528c9d31 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,143 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@2c53c465 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@c93ce5e, testMethod = TestGetListKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528c9d31 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,147 INFO com.bibliotheque.metier.KindBusinessImpl [main] Return list of kind
2019-08-10 19:20:47,150 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@2c53c465 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@c93ce5e, testMethod = TestGetListKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@528c9d31 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,159 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7357064e, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,248 INFO com.bibliotheque.metier.MailBusinessImpl [main] Get mail for user ID 1
2019-08-10 19:20:47,251 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Send Email for reservation 1
2019-08-10 19:20:47,252 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 1
2019-08-10 19:20:47,261 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7357064e, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,264 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3e9e864b, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,269 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-10 19:20:47,270 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-10 19:20:47,274 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@3e9e864b, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,276 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2577a5f9, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,280 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 3 late for extention
2019-08-10 19:20:47,283 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@2577a5f9, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,285 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@225d0f0e, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,288 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] utilisateur id 50 not correct
2019-08-10 19:20:47,291 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@225d0f0e, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,293 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@8e0d769, testMethod = testGetListLoanLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,297 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan late
2019-08-10 19:20:47,309 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan late for user id 5
2019-08-10 19:20:47,312 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@8e0d769, testMethod = testGetListLoanLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,316 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4df509d6, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,324 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 9
2019-08-10 19:20:47,324 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 9
2019-08-10 19:20:47,327 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4df509d6, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,329 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@671e7767, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,332 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 8
2019-08-10 19:20:47,338 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 18
2019-08-10 19:20:47,343 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 11
2019-08-10 19:20:47,343 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 10
2019-08-10 19:20:47,348 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@671e7767, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,350 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@17c9feaa, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,356 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 12 already in extention
2019-08-10 19:20:47,360 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@17c9feaa, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,361 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@450909af, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,364 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 13
2019-08-10 19:20:47,369 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 10
2019-08-10 19:20:47,376 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@450909af, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,378 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6f806db9, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,380 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-10 19:20:47,380 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 21 not correct
2019-08-10 19:20:47,385 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6f806db9, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,388 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4e05a0b5, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,392 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan id 50 not correct
2019-08-10 19:20:47,392 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@4e05a0b5, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:47,411 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@44ab3773, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7db56802]; rollback [true]
2019-08-10 19:20:47,415 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 13
2019-08-10 19:20:47,416 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 23 not available
2019-08-10 19:20:47,419 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@106387ba testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@44ab3773, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3509ac68 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@26d10f2e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@622ef26a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@73e132e0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@456abb66], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:20:48,010 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 19:20:48,017 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-7] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 19:20:48,017 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-7] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 19:20:48,028 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown initiated...
2019-08-10 19:20:48,033 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown completed.
2019-08-10 19:23:53,472 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestBookBusiness on DESKTOP-EAH8HBP with PID 12264 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 19:23:53,473 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 19:23:53,474 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 19:23:53,619 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 19:23:53,620 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 19:23:54,190 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 19:23:54,317 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 117ms. Found 7 repository interfaces.
2019-08-10 19:23:54,797 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18662442] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 19:23:55,010 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 19:23:55,339 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 19:23:55,429 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 19:23:55,499 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 19:23:55,504 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 19:23:55,651 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 19:23:56,371 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 19:23:57,268 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@720f56e2'
2019-08-10 19:23:57,271 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 19:23:57,625 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 19:23:59,211 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 19:23:59,271 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 19:23:59,743 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: e8ee05ec-dd8b-4aa3-a464-9b473c6733a2

2019-08-10 19:23:59,975 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13662609, org.springframework.security.web.context.SecurityContextPersistenceFilter@799971ac, org.springframework.security.web.header.HeaderWriterFilter@41404aa2, org.springframework.security.web.csrf.CsrfFilter@624d778e, org.springframework.security.web.authentication.logout.LogoutFilter@74f649a7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@201a8ea7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5f68eec6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@27a0e6ce, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@236a4d30, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45f0038, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53d87b2d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b80497f, org.springframework.security.web.session.SessionManagementFilter@31e22365, org.springframework.security.web.access.ExceptionTranslationFilter@7be62956, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5cdda548]
2019-08-10 19:24:00,140 INFO org.springframework.boot.StartupInfoLogger [main] Started TestBookBusiness in 7.008 seconds (JVM running for 7.893)
2019-08-10 19:24:00,178 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@b849fa6, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 19:24:00,308 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 5 not correct
2019-08-10 19:24:00,314 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@b849fa6, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:00,318 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@24258b54, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 19:24:00,321 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 19:24:00,369 INFO com.bibliotheque.metier.BookBusinessImpl [main] update book 2
2019-08-10 19:24:00,372 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 19:24:00,373 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@24258b54, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:00,376 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@17a77a7e, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 19:24:00,379 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-10 19:24:00,380 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 19:24:00,382 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@17a77a7e, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:00,385 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@17189618, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 19:24:00,388 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-10 19:24:00,388 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@17189618, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:00,392 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@5abb7a8f, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 19:24:00,393 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-10 19:24:00,428 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyAvailable incorrect : book.copyAvailable.value.not.correct
2019-08-10 19:24:00,432 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@5abb7a8f, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:00,435 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2361365c, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 19:24:00,438 ERROR com.bibliotheque.metier.BookBusinessImpl [main] book6already disable
2019-08-10 19:24:00,440 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2361365c, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:00,443 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@34652065, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 19:24:00,467 INFO com.bibliotheque.metier.BookBusinessImpl [main] Create book7
2019-08-10 19:24:00,468 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-10 19:24:00,471 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@34652065, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:00,473 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@23d060c2, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 19:24:00,474 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 8
2019-08-10 19:24:00,492 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyTotals incorrect : book.copyTotals.value.not.correct
2019-08-10 19:24:00,496 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@23d060c2, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:00,502 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@404dc999, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 19:24:00,504 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success set disable to book9
2019-08-10 19:24:00,507 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@404dc999, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:00,509 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@35d0749, testMethod = testPageBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 19:24:00,557 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 0 elements
2019-08-10 19:24:00,561 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 1 elements
2019-08-10 19:24:00,568 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@35d0749, testMethod = testPageBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:00,570 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4040ccae, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29f8134]; rollback [true]
2019-08-10 19:24:00,574 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 19:24:00,575 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@5c5eefef testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4040ccae, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@16293aa2 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7d0587f1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4f063c0a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f65459, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@458c1321], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:00,580 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 19:24:00,586 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 19:24:00,587 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 19:24:00,588 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 19:24:00,589 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 19:24:00,590 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-10 19:24:00,591 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-10 19:24:00,591 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-10 19:24:00,591 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-10 19:24:00,592 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-10 19:24:08,292 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestBookBusiness on DESKTOP-EAH8HBP with PID 14132 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-10 19:24:08,294 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-10 19:24:08,294 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-10 19:24:08,535 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 19:24:08,535 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-10 19:24:09,348 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-10 19:24:09,521 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 159ms. Found 7 repository interfaces.
2019-08-10 19:24:10,306 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4bca074c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-10 19:24:10,636 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-10 19:24:10,990 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-10 19:24:11,127 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-10 19:24:11,282 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-10 19:24:11,286 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-10 19:24:11,510 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-10 19:24:11,973 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-10 19:24:13,398 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@30b1764d'
2019-08-10 19:24:13,404 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 19:24:13,998 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-10 19:24:15,915 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-10 19:24:16,015 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-10 19:24:16,694 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 23464a53-8c0b-4265-8c80-632d2c7a77aa

2019-08-10 19:24:16,989 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@802c3e1, org.springframework.security.web.context.SecurityContextPersistenceFilter@20cb266f, org.springframework.security.web.header.HeaderWriterFilter@4f19c21, org.springframework.security.web.csrf.CsrfFilter@2811f027, org.springframework.security.web.authentication.logout.LogoutFilter@4262d84f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e3c1e7a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1c118a97, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2cda0066, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1a6198c0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36982718, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ecf16dc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@250becb7, org.springframework.security.web.session.SessionManagementFilter@fc465c6, org.springframework.security.web.access.ExceptionTranslationFilter@54ed358b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c9c0488]
2019-08-10 19:24:17,170 INFO org.springframework.boot.StartupInfoLogger [main] Started TestBookBusiness in 9.446 seconds (JVM running for 11.177)
2019-08-10 19:24:17,223 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@46aa8d9c, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@46be3fa3]; rollback [true]
2019-08-10 19:24:17,421 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 5 not correct
2019-08-10 19:24:17,433 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@46aa8d9c, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:17,437 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1d261a35, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@46be3fa3]; rollback [true]
2019-08-10 19:24:17,440 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 19:24:17,508 INFO com.bibliotheque.metier.BookBusinessImpl [main] update book 2
2019-08-10 19:24:17,508 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-10 19:24:17,514 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1d261a35, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:17,515 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3d258f7d, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@46be3fa3]; rollback [true]
2019-08-10 19:24:17,518 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-10 19:24:17,520 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 19:24:17,522 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3d258f7d, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:17,525 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@6b99bcf, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@46be3fa3]; rollback [true]
2019-08-10 19:24:17,528 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-10 19:24:17,531 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@6b99bcf, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:17,532 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2cbbb143, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@46be3fa3]; rollback [true]
2019-08-10 19:24:17,534 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-10 19:24:17,564 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyAvailable incorrect : book.copyAvailable.value.not.correct
2019-08-10 19:24:17,567 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2cbbb143, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:17,568 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@63590713, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@46be3fa3]; rollback [true]
2019-08-10 19:24:17,570 ERROR com.bibliotheque.metier.BookBusinessImpl [main] book6already disable
2019-08-10 19:24:17,575 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@63590713, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:17,576 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3babac0d, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@46be3fa3]; rollback [true]
2019-08-10 19:24:17,601 INFO com.bibliotheque.metier.BookBusinessImpl [main] Create book7
2019-08-10 19:24:17,601 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-10 19:24:17,605 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3babac0d, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:17,607 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@218f0100, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@46be3fa3]; rollback [true]
2019-08-10 19:24:17,609 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 8
2019-08-10 19:24:17,632 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyTotals incorrect : book.copyTotals.value.not.correct
2019-08-10 19:24:17,636 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@218f0100, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:17,640 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@71ac49b0, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@46be3fa3]; rollback [true]
2019-08-10 19:24:17,642 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success set disable to book9
2019-08-10 19:24:17,647 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@71ac49b0, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:17,649 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1232afeb, testMethod = testPageBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@46be3fa3]; rollback [true]
2019-08-10 19:24:17,711 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 0 elements
2019-08-10 19:24:17,719 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 1 elements
2019-08-10 19:24:17,723 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@1232afeb, testMethod = testPageBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:17,727 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4fab20, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@46be3fa3]; rollback [true]
2019-08-10 19:24:17,730 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-10 19:24:17,733 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3421debd testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4fab20, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@41bfa9e9 testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@733037, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@58783f6c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ac4944a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4c7a078], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-10 19:24:17,743 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-10 19:24:17,751 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-7] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-10 19:24:17,751 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-7] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-10 19:24:18,490 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown initiated...
2019-08-10 19:24:18,494 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown completed.
