2019-08-11 12:42:01,137 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 13976 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 12:42:01,140 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 12:42:01,141 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 12:42:01,298 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 12:42:01,299 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 12:42:01,902 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 12:42:02,030 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 114ms. Found 7 repository interfaces.
2019-08-11 12:42:02,488 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fda13305] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 12:42:02,705 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 12:42:02,924 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 12:42:03,021 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 12:42:03,126 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 12:42:03,129 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 12:42:03,333 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 12:42:03,999 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 12:42:05,489 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@734ce281'
2019-08-11 12:42:05,492 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 12:42:05,845 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 12:42:07,509 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 12:42:07,566 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 12:42:08,016 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: a43c6bbe-aa58-4f4e-91f3-81c868be834a

2019-08-11 12:42:08,239 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@620572db, org.springframework.security.web.context.SecurityContextPersistenceFilter@470135da, org.springframework.security.web.header.HeaderWriterFilter@41d877bb, org.springframework.security.web.csrf.CsrfFilter@60e67c06, org.springframework.security.web.authentication.logout.LogoutFilter@3ad2883a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@27a0e6ce, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5615f82d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1d5048d1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@460e5ffe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f68eec6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58b5f7d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47d9c01, org.springframework.security.web.session.SessionManagementFilter@492fa72a, org.springframework.security.web.access.ExceptionTranslationFilter@1a3c4b3e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b64bbad]
2019-08-11 12:42:08,399 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 7.691 seconds (JVM running for 8.818)
2019-08-11 12:42:08,426 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@53e82089, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@792e8181]; rollback [true]
2019-08-11 12:42:08,580 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 12:42:08,582 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 12:42:08,614 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 12:42:08,616 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 12:42:08,672 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 12:42:08,683 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@53e82089, testMethod = testCreateReservation@TestReservationBusiness, testException = java.lang.AssertionError: expected:<1> but was:<0>, mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 12:42:08,705 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 12:42:08,712 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 12:42:08,712 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 12:42:08,716 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 12:42:08,716 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 12:42:08,717 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 12:42:08,717 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 12:42:08,718 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 12:42:08,718 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 12:42:08,720 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 12:44:06,531 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 10820 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 12:44:06,533 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 12:44:06,534 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 12:44:06,685 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 12:44:06,686 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 12:44:07,204 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 12:44:07,313 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 102ms. Found 7 repository interfaces.
2019-08-11 12:44:07,750 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$82a79db6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 12:44:07,950 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 12:44:08,155 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 12:44:08,244 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 12:44:08,322 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 12:44:08,323 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 12:44:08,471 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 12:44:08,998 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 12:44:10,117 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@2b7facc7'
2019-08-11 12:44:10,120 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 12:44:10,429 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 12:44:11,972 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 12:44:12,047 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 12:44:12,489 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: c89beb12-fd9b-46de-8f62-a7592b680766

2019-08-11 12:44:12,752 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@460e5ffe, org.springframework.security.web.context.SecurityContextPersistenceFilter@39c5a105, org.springframework.security.web.header.HeaderWriterFilter@289a4b90, org.springframework.security.web.csrf.CsrfFilter@3c2dda7c, org.springframework.security.web.authentication.logout.LogoutFilter@21698e5a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@736788b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1e482ecd, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1a4cbcc6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c000cc4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@513fab1e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74f649a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7cecab19, org.springframework.security.web.session.SessionManagementFilter@4746fb8c, org.springframework.security.web.access.ExceptionTranslationFilter@799971ac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25ea068e]
2019-08-11 12:44:12,894 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.669 seconds (JVM running for 7.576)
2019-08-11 12:44:12,934 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@72d1ad2e testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@c83ed77, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@38848217]; rollback [true]
2019-08-11 12:44:13,073 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 12:44:13,076 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 12:44:13,100 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 12:44:13,104 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 12:44:13,153 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 12:44:13,155 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-11 12:44:13,155 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 12:44:13,158 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 12:44:13,159 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 12:44:13,161 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 12:44:13,168 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@72d1ad2e testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@c83ed77, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2d7275fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 12:44:13,175 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 12:44:13,186 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 12:44:13,187 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 12:44:13,188 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 12:44:13,189 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 12:44:13,191 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 12:44:13,191 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 12:44:13,191 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 12:44:13,192 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 12:44:13,194 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 12:47:25,706 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 10384 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 12:47:25,707 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 12:47:25,707 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 12:47:25,855 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 12:47:25,856 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 12:47:26,391 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 12:47:26,510 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 103ms. Found 7 repository interfaces.
2019-08-11 12:47:26,925 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$87e2c230] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 12:47:27,132 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 12:47:27,399 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 12:47:27,490 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 12:47:27,563 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 12:47:27,569 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 12:47:27,705 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 12:47:28,286 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 12:47:29,236 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@734ce281'
2019-08-11 12:47:29,240 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 12:47:29,559 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 12:47:31,058 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 12:47:31,130 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 12:47:31,547 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 1b963d79-f9ac-4a99-b144-1cff496854a5

2019-08-11 12:47:31,757 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@620572db, org.springframework.security.web.context.SecurityContextPersistenceFilter@470135da, org.springframework.security.web.header.HeaderWriterFilter@41d877bb, org.springframework.security.web.csrf.CsrfFilter@60e67c06, org.springframework.security.web.authentication.logout.LogoutFilter@3ad2883a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@27a0e6ce, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5615f82d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1d5048d1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@460e5ffe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f68eec6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58b5f7d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47d9c01, org.springframework.security.web.session.SessionManagementFilter@492fa72a, org.springframework.security.web.access.ExceptionTranslationFilter@1a3c4b3e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b64bbad]
2019-08-11 12:47:31,906 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.518 seconds (JVM running for 7.531)
2019-08-11 12:47:31,935 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@53e82089, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@792e8181]; rollback [true]
2019-08-11 12:47:32,084 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 12:47:32,091 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 12:47:32,117 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 12:47:32,119 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 12:47:32,158 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 12:47:32,159 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 12:47:32,160 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 12:47:32,171 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@53e82089, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 12:47:32,174 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3458dab6, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@792e8181]; rollback [true]
2019-08-11 12:47:32,176 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 12:47:32,176 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 12:47:32,178 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 12:47:32,178 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 12:47:32,182 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 12:47:32,182 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 12:47:32,183 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 12:47:32,186 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 12:47:32,187 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 12:47:32,190 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 12:47:32,194 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3458dab6, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 12:47:32,195 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2e4339c1, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@792e8181]; rollback [true]
2019-08-11 12:47:32,198 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 5
2019-08-11 12:47:32,198 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-11 12:47:32,200 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2e4339c1, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 12:47:32,209 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 12:47:32,215 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 12:47:32,216 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 12:47:32,217 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 12:47:32,217 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 12:47:32,220 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 12:47:32,220 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 12:47:32,220 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 12:47:32,221 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 12:47:32,222 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 12:48:08,516 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 13268 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 12:48:08,517 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 12:48:08,518 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 12:48:08,668 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 12:48:08,669 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 12:48:09,196 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 12:48:09,326 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 121ms. Found 7 repository interfaces.
2019-08-11 12:48:09,749 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$80e48015] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 12:48:09,961 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 12:48:10,158 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 12:48:10,236 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 12:48:10,310 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 12:48:10,319 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 12:48:10,463 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 12:48:11,146 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 12:48:12,168 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@3c33fcf8'
2019-08-11 12:48:12,171 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 12:48:12,500 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 12:48:14,024 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 12:48:14,090 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 12:48:14,522 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: d56ff730-18ff-4d7c-983c-34a01dd4deed

2019-08-11 12:48:14,753 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@335972a5, org.springframework.security.web.context.SecurityContextPersistenceFilter@3aca2579, org.springframework.security.web.header.HeaderWriterFilter@3dc2f14, org.springframework.security.web.csrf.CsrfFilter@3be46d9c, org.springframework.security.web.authentication.logout.LogoutFilter@c87787d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@35d88a54, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5b5b8730, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@59a2bed1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@e2c627e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@651cedfb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ef4aceb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49f2646, org.springframework.security.web.session.SessionManagementFilter@5724c7da, org.springframework.security.web.access.ExceptionTranslationFilter@9f48198, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@620572db]
2019-08-11 12:48:14,897 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.702 seconds (JVM running for 7.731)
2019-08-11 12:48:14,927 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1189dd52 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5c9b5e62, testMethod = testCreateReservation2@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36bc55de testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@694e1548, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@26aa12dd, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4d41cee, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2bbf4b8b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@55c46ec1]; rollback [true]
2019-08-11 12:48:15,066 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 12:48:15,073 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 12:48:15,104 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 12:48:15,105 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 12:48:15,147 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 12:48:15,147 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-11 12:48:15,148 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 12:48:15,150 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 12:48:15,152 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 12:48:15,155 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 12:48:15,158 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1189dd52 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5c9b5e62, testMethod = testCreateReservation2@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@36bc55de testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@694e1548, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@26aa12dd, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4d41cee, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2bbf4b8b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 12:48:15,172 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 12:48:15,181 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 12:48:15,182 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 12:48:15,183 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 12:48:15,185 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 12:48:15,186 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 12:48:15,186 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 12:48:15,187 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 12:48:15,187 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 12:48:15,189 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 12:50:02,646 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 2192 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 12:50:02,647 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 12:50:02,648 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 12:50:02,786 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 12:50:02,787 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 12:50:03,305 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 12:50:03,422 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 103ms. Found 7 repository interfaces.
2019-08-11 12:50:03,869 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2091a0a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 12:50:04,063 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 12:50:04,267 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 12:50:04,351 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 12:50:04,420 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 12:50:04,429 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 12:50:04,565 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 12:50:05,224 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 12:50:06,164 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@401e02b4'
2019-08-11 12:50:06,166 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 12:50:06,513 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 12:50:07,980 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 12:50:08,059 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 12:50:08,551 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 63054b7b-5ce0-438b-9244-b6ce7e5d79d5

2019-08-11 12:50:08,812 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26c6288d, org.springframework.security.web.context.SecurityContextPersistenceFilter@9f48198, org.springframework.security.web.header.HeaderWriterFilter@308c65e0, org.springframework.security.web.csrf.CsrfFilter@2ebf524, org.springframework.security.web.authentication.logout.LogoutFilter@7ef4aceb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@47d9c01, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@33356666, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@57bd9c2b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2986427e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21698e5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18d22ecf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@644b68ad, org.springframework.security.web.session.SessionManagementFilter@1e482ecd, org.springframework.security.web.access.ExceptionTranslationFilter@6cb194f5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c000cc4]
2019-08-11 12:50:08,946 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.619 seconds (JVM running for 7.526)
2019-08-11 12:50:08,972 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@670c171c, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2b974137]; rollback [true]
2019-08-11 12:50:09,116 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 12:50:09,121 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 12:50:09,152 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 12:50:09,156 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 12:50:09,205 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 12:50:09,206 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 12:50:09,206 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 12:50:09,215 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@670c171c, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 12:50:09,218 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@d08f85a, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2b974137]; rollback [true]
2019-08-11 12:50:09,221 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 12:50:09,222 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 12:50:09,222 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 12:50:09,222 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 12:50:09,225 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 12:50:09,225 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 12:50:09,228 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 12:50:09,231 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 12:50:09,232 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 12:50:09,233 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 12:50:09,235 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@d08f85a, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 12:50:09,239 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@7d49a1a0, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2b974137]; rollback [true]
2019-08-11 12:50:09,242 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 5
2019-08-11 12:50:09,242 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-11 12:50:09,243 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@399f45b1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@7d49a1a0, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@38c6f217 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 12:50:09,252 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 12:50:09,259 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 12:50:09,260 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 12:50:09,261 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 12:50:09,261 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 12:50:09,262 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 12:50:09,263 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 12:50:09,263 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 12:50:09,263 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 12:50:09,265 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 16:26:19,551 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 6296 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:26:19,553 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:26:19,554 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:26:19,769 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:26:19,770 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:26:20,539 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:26:20,709 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 151ms. Found 7 repository interfaces.
2019-08-11 16:26:21,453 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$63fdf072] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:26:21,806 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:26:22,140 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:26:22,276 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:26:22,398 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:26:22,402 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:26:22,620 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:26:23,088 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:26:24,506 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@5880da84'
2019-08-11 16:26:24,513 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:26:25,140 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:26:27,003 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:26:27,101 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:26:27,703 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 345317bb-fb5d-43d8-811a-b99d7edd9406

2019-08-11 16:26:28,032 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7006c487, org.springframework.security.web.context.SecurityContextPersistenceFilter@3901ce89, org.springframework.security.web.header.HeaderWriterFilter@74904fdc, org.springframework.security.web.csrf.CsrfFilter@4dc52d3, org.springframework.security.web.authentication.logout.LogoutFilter@679be41, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@a90b4d0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3fbefb6f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@c2323d1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1c1b5ba3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ed4c226, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4abe163f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76b708b6, org.springframework.security.web.session.SessionManagementFilter@c8d8de5, org.springframework.security.web.access.ExceptionTranslationFilter@398db059, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@180121e7]
2019-08-11 16:26:28,197 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 9.188 seconds (JVM running for 11.666)
2019-08-11 16:26:28,245 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@2dafae61 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@77fef60f, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7a2fce12 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d157787, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@117632cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e1162e7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3238c895]; rollback [true]
2019-08-11 16:26:28,443 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:26:28,444 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:26:28,479 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 16:26:28,479 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 16:26:28,544 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 16:26:28,545 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:26:28,545 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:26:28,562 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@2dafae61 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@77fef60f, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7a2fce12 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d157787, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@117632cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e1162e7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:26:28,567 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@2dafae61 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@118fccab, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7a2fce12 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d157787, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@117632cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e1162e7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3238c895]; rollback [true]
2019-08-11 16:26:28,570 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 16:26:28,571 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:26:28,573 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:26:28,574 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:26:28,581 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:26:28,581 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 16:26:28,582 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:26:28,588 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:26:28,589 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:26:28,594 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:26:28,600 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@2dafae61 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@118fccab, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7a2fce12 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d157787, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@117632cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e1162e7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:26:28,602 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@2dafae61 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@cadae8d, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7a2fce12 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d157787, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@117632cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e1162e7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3238c895]; rollback [true]
2019-08-11 16:26:28,607 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 5
2019-08-11 16:26:28,608 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-11 16:26:28,612 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@2dafae61 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@cadae8d, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7a2fce12 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d157787, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@117632cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e1162e7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:26:29,294 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:26:29,302 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-7] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:26:29,302 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-7] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:26:29,316 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown initiated...
2019-08-11 16:26:29,321 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown completed.
2019-08-11 16:38:45,295 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 15004 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:38:45,295 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:38:45,296 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:38:45,449 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:38:45,449 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:38:46,021 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:38:46,139 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 107ms. Found 7 repository interfaces.
2019-08-11 16:38:46,593 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ddb2e418] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:38:46,815 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:38:47,005 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:38:47,093 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:38:47,168 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:38:47,171 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:38:47,318 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:38:47,673 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:38:48,588 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@59328218'
2019-08-11 16:38:48,592 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:38:48,924 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:38:50,425 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:38:50,485 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:38:50,952 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 5288dbf4-069e-4dc3-b0a1-12661494bd8a

2019-08-11 16:38:51,178 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d5048d1, org.springframework.security.web.context.SecurityContextPersistenceFilter@7323dce7, org.springframework.security.web.header.HeaderWriterFilter@39c5a105, org.springframework.security.web.csrf.CsrfFilter@2bc59ab7, org.springframework.security.web.authentication.logout.LogoutFilter@5814b4fb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b80497f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@21698e5a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@47d9c01, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1a4cbcc6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ff9f715, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bc52a41, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5358c8fa, org.springframework.security.web.session.SessionManagementFilter@513fab1e, org.springframework.security.web.access.ExceptionTranslationFilter@4746fb8c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71eff6a3]
2019-08-11 16:38:51,312 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.34 seconds (JVM running for 7.222)
2019-08-11 16:38:51,352 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@38c6f217 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@66a8751a, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@478190fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@511d5e6e]; rollback [true]
2019-08-11 16:38:51,504 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:38:51,505 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:38:51,537 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 16:38:51,538 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 16:38:51,580 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 16:38:51,581 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:38:51,581 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:38:51,592 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@38c6f217 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@66a8751a, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@478190fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:38:51,594 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@38c6f217 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@59278072, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@478190fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@511d5e6e]; rollback [true]
2019-08-11 16:38:51,597 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 16:38:51,597 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:38:51,599 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:38:51,599 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:38:51,603 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:38:51,603 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 16:38:51,604 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:38:51,607 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:38:51,607 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:38:51,609 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:38:51,617 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:38:51,617 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:38:51,619 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:38:51,623 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@38c6f217 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@59278072, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@478190fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:38:51,625 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@38c6f217 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@720ffab4, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@478190fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@511d5e6e]; rollback [true]
2019-08-11 16:38:51,629 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 5
2019-08-11 16:38:51,630 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-11 16:38:51,631 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation4
2019-08-11 16:38:51,631 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book3
2019-08-11 16:38:51,637 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 3
2019-08-11 16:38:51,637 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 6
2019-08-11 16:38:51,637 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-11 16:38:51,639 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation5
2019-08-11 16:38:51,639 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book3
2019-08-11 16:38:51,642 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 3
2019-08-11 16:38:51,644 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@38c6f217 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@720ffab4, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@478190fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:38:51,647 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@38c6f217 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@4ede8888, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@478190fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@511d5e6e]; rollback [true]
2019-08-11 16:38:51,650 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 7
2019-08-11 16:38:51,651 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-11 16:38:51,654 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@38c6f217 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@4ede8888, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@478190fc testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:38:51,660 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:38:51,667 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:38:51,667 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:38:51,668 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:38:51,669 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:38:51,671 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:38:51,671 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:38:51,672 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 16:38:51,672 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 16:38:51,674 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 16:39:01,612 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 11848 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:39:01,614 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:39:01,615 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:39:01,805 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:39:01,806 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:39:02,595 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:39:02,768 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 157ms. Found 7 repository interfaces.
2019-08-11 16:39:03,453 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$628a915f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:39:03,784 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:39:04,074 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:39:04,201 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:39:04,324 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:39:04,328 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:39:04,559 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:39:05,035 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:39:06,331 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@7a89a3e1'
2019-08-11 16:39:06,337 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:39:06,911 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:39:08,498 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:39:08,580 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:39:09,095 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 1a6951dd-1bd5-40c8-92b8-83839bf58301

2019-08-11 16:39:09,422 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ca82bff, org.springframework.security.web.context.SecurityContextPersistenceFilter@34a765cc, org.springframework.security.web.header.HeaderWriterFilter@4abe163f, org.springframework.security.web.csrf.CsrfFilter@5d4748d7, org.springframework.security.web.authentication.logout.LogoutFilter@6058f780, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d383f34, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7e31b7e7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3ed12ce4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7f898aab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fdb1e5c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b06ace5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44745ba8, org.springframework.security.web.session.SessionManagementFilter@2feb8937, org.springframework.security.web.access.ExceptionTranslationFilter@5ef35fd6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@250becb7]
2019-08-11 16:39:09,600 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 8.477 seconds (JVM running for 10.419)
2019-08-11 16:39:09,654 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@721d5b74 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@70f8a06d, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3421debd testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5949eba8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@50b8ae8d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1c65121, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@669d2b1b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@10c88312]; rollback [true]
2019-08-11 16:39:09,875 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:39:09,876 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:39:09,919 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 16:39:09,920 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 16:39:09,986 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 16:39:09,987 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:39:09,987 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:39:10,002 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@721d5b74 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@70f8a06d, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3421debd testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5949eba8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@50b8ae8d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1c65121, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@669d2b1b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:39:10,007 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@721d5b74 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@53bd48f0, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3421debd testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5949eba8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@50b8ae8d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1c65121, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@669d2b1b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@10c88312]; rollback [true]
2019-08-11 16:39:10,011 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 16:39:10,011 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:39:10,014 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:39:10,014 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:39:10,021 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:39:10,022 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 16:39:10,022 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:39:10,027 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:39:10,027 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:39:10,032 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:39:10,044 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:39:10,045 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:39:10,047 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:39:10,054 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@721d5b74 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@53bd48f0, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3421debd testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5949eba8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@50b8ae8d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1c65121, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@669d2b1b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:39:10,056 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@721d5b74 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2cb3974, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3421debd testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5949eba8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@50b8ae8d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1c65121, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@669d2b1b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@10c88312]; rollback [true]
2019-08-11 16:39:10,060 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 5
2019-08-11 16:39:10,061 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-11 16:39:10,062 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation4
2019-08-11 16:39:10,063 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book3
2019-08-11 16:39:10,067 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 3
2019-08-11 16:39:10,068 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 6
2019-08-11 16:39:10,068 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-11 16:39:10,070 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation5
2019-08-11 16:39:10,071 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book3
2019-08-11 16:39:10,074 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 3
2019-08-11 16:39:10,077 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@721d5b74 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2cb3974, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3421debd testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5949eba8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@50b8ae8d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1c65121, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@669d2b1b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:39:10,080 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@721d5b74 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@358529ff, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3421debd testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5949eba8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@50b8ae8d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1c65121, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@669d2b1b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@10c88312]; rollback [true]
2019-08-11 16:39:10,083 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 7
2019-08-11 16:39:10,084 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-11 16:39:10,087 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@721d5b74 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@358529ff, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3421debd testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5949eba8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@50b8ae8d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1c65121, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@669d2b1b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:39:10,709 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:39:10,717 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-7] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:39:10,718 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-7] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:39:10,729 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown initiated...
2019-08-11 16:39:10,733 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown completed.
2019-08-11 16:40:49,862 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 5184 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:40:49,863 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:40:49,864 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:40:50,012 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:40:50,013 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:40:50,569 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:40:50,691 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 110ms. Found 7 repository interfaces.
2019-08-11 16:40:51,143 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$19db8de0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:40:51,357 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:40:51,576 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:40:51,677 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:40:51,760 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:40:51,763 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:40:51,925 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:40:52,314 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:40:53,218 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@760f1081'
2019-08-11 16:40:53,222 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:40:53,559 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:40:55,296 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:40:55,373 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:40:55,876 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 286651ef-6c8b-4d4a-9856-d8f0348987c3

2019-08-11 16:40:56,141 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@752494dd, org.springframework.security.web.context.SecurityContextPersistenceFilter@308c65e0, org.springframework.security.web.header.HeaderWriterFilter@4ff9f715, org.springframework.security.web.csrf.CsrfFilter@30e143ff, org.springframework.security.web.authentication.logout.LogoutFilter@33356666, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1a4cbcc6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4ba13fed, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2986427e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1a02ebe0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e482ecd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ad2883a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35d88a54, org.springframework.security.web.session.SessionManagementFilter@6cb194f5, org.springframework.security.web.access.ExceptionTranslationFilter@470135da, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6294e4a6]
2019-08-11 16:40:56,280 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.731 seconds (JVM running for 7.586)
2019-08-11 16:40:56,316 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@478190fc testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@1eabfad5, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@79e2c065 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@54997f67]; rollback [true]
2019-08-11 16:40:56,464 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:40:56,465 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:40:56,493 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 16:40:56,494 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 16:40:56,543 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 16:40:56,544 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:40:56,544 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:40:56,556 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@478190fc testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@1eabfad5, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@79e2c065 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:40:56,559 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@478190fc testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@511de4dd, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@79e2c065 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@54997f67]; rollback [true]
2019-08-11 16:40:56,562 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 16:40:56,563 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:40:56,565 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:40:56,565 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:40:56,570 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:40:56,570 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 16:40:56,571 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:40:56,574 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:40:56,575 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:40:56,578 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:40:56,586 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:40:56,586 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:40:56,588 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:40:56,593 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@478190fc testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@511de4dd, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@79e2c065 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:40:56,595 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@478190fc testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@539dd2d0, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@79e2c065 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@54997f67]; rollback [true]
2019-08-11 16:40:56,599 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:40:56,603 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-11 16:40:56,606 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@478190fc testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@539dd2d0, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = com.bibliotheque.exception.BibliothequeException: book.id.not.correct, mergedContextConfiguration = [WebMergedContextConfiguration@79e2c065 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:40:56,612 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@478190fc testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@c6bf8d9, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@79e2c065 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@54997f67]; rollback [true]
2019-08-11 16:40:56,615 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 7
2019-08-11 16:40:56,615 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-11 16:40:56,617 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation4
2019-08-11 16:40:56,617 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book4
2019-08-11 16:40:56,622 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 4
2019-08-11 16:40:56,622 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 8
2019-08-11 16:40:56,623 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-11 16:40:56,625 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation5
2019-08-11 16:40:56,626 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book4
2019-08-11 16:40:56,629 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 4
2019-08-11 16:40:56,632 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@478190fc testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@c6bf8d9, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@79e2c065 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:40:56,634 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@478190fc testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@7bef7505, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@79e2c065 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@54997f67]; rollback [true]
2019-08-11 16:40:56,638 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-11 16:40:56,639 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:40:56,642 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@478190fc testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@7bef7505, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@79e2c065 testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:40:56,648 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:40:56,653 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:40:56,654 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:40:56,655 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:40:56,656 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:40:56,658 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:40:56,658 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:40:56,658 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 16:40:56,659 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 16:40:56,661 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 16:42:27,881 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 8032 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:42:27,883 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:42:27,884 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:42:28,027 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:42:28,028 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:42:28,588 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:42:28,712 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 115ms. Found 7 repository interfaces.
2019-08-11 16:42:29,146 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6dde568e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:42:29,361 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:42:29,559 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:42:29,651 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:42:29,731 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:42:29,733 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:42:29,886 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:42:30,280 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:42:31,178 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@259287ac'
2019-08-11 16:42:31,182 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:42:31,507 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:42:33,088 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:42:33,163 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:42:33,620 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: b005fe1e-079e-4d4d-b9d0-ebba21f2106f

2019-08-11 16:42:33,852 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a7ae340, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ad2883a, org.springframework.security.web.header.HeaderWriterFilter@5615f82d, org.springframework.security.web.csrf.CsrfFilter@1a3c4b3e, org.springframework.security.web.authentication.logout.LogoutFilter@14b48f39, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@752494dd, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@31b650e9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5e8bd498, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@644b68ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3aca2579, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1818390b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@335972a5, org.springframework.security.web.session.SessionManagementFilter@3dc2f14, org.springframework.security.web.access.ExceptionTranslationFilter@58b5f7d2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7cecab19]
2019-08-11 16:42:33,984 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.435 seconds (JVM running for 7.324)
2019-08-11 16:42:34,017 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@416b681c, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3f1d6a13]; rollback [true]
2019-08-11 16:42:34,170 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:42:34,171 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:42:34,205 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 16:42:34,206 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 16:42:34,252 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 16:42:34,254 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:42:34,255 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:42:34,265 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@416b681c, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:42:34,268 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@696298ea, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3f1d6a13]; rollback [true]
2019-08-11 16:42:34,270 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 16:42:34,270 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:42:34,272 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:42:34,272 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:42:34,276 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:42:34,277 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 16:42:34,277 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:42:34,280 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:42:34,281 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:42:34,284 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:42:34,292 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:42:34,292 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:42:34,294 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:42:34,298 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@696298ea, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:42:34,300 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@254513e8, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3f1d6a13]; rollback [true]
2019-08-11 16:42:34,305 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:42:34,310 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-11 16:42:34,312 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@254513e8, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:42:34,317 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@65b5b5ed, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3f1d6a13]; rollback [true]
2019-08-11 16:42:34,321 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:42:34,322 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-11 16:42:34,323 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 4
2019-08-11 16:42:34,327 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@65b5b5ed, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = java.lang.AssertionError: Expected exception: com.bibliotheque.exception.BibliothequeException, mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:42:34,334 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3f2ae973, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3f1d6a13]; rollback [true]
2019-08-11 16:42:34,337 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-11 16:42:34,337 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:42:34,338 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation4
2019-08-11 16:42:34,339 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:42:34,343 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:42:34,344 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 10
2019-08-11 16:42:34,344 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:42:34,347 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation5
2019-08-11 16:42:34,348 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:42:34,350 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:42:34,353 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3f2ae973, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:42:34,356 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2d8087da, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3f1d6a13]; rollback [true]
2019-08-11 16:42:34,360 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-11 16:42:34,360 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 6
2019-08-11 16:42:34,363 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2d8087da, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:42:34,364 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@647af13d, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3f1d6a13]; rollback [true]
2019-08-11 16:42:34,368 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:42:34,369 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-11 16:42:34,370 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 7
2019-08-11 16:42:34,373 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@647af13d, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = java.lang.AssertionError: Expected exception: com.bibliotheque.exception.BibliothequeException, mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:42:34,379 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:42:34,386 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:42:34,386 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:42:34,388 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:42:34,388 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:42:34,389 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:42:34,390 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:42:34,390 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 16:42:34,390 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 16:42:34,394 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 16:44:46,449 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 10248 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:44:46,451 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:44:46,451 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:44:46,596 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:44:46,597 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:44:47,162 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:44:47,278 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 106ms. Found 7 repository interfaces.
2019-08-11 16:44:47,725 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$77963e00] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:44:47,939 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:44:48,137 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:44:48,228 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:44:48,309 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:44:48,312 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:44:48,458 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:44:48,838 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:44:49,728 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@48567727'
2019-08-11 16:44:49,732 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:44:50,063 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:44:51,718 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:44:51,789 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:44:52,274 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 250bf9a2-d8f3-4c2d-9dbc-7bb05ecd3d95

2019-08-11 16:44:52,501 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d4818e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@bc52a41, org.springframework.security.web.header.HeaderWriterFilter@74f649a7, org.springframework.security.web.csrf.CsrfFilter@31e22365, org.springframework.security.web.authentication.logout.LogoutFilter@67a38, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1d5048d1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@31443680, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@26c6288d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@752494dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5615f82d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@651cedfb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57bd9c2b, org.springframework.security.web.session.SessionManagementFilter@50fa5938, org.springframework.security.web.access.ExceptionTranslationFilter@118a4d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ef4297d]
2019-08-11 16:44:52,643 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.528 seconds (JVM running for 7.475)
2019-08-11 16:44:52,679 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3df3410a, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@76b05c0]; rollback [true]
2019-08-11 16:44:52,827 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:44:52,828 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:44:52,864 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 16:44:52,865 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 16:44:52,908 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 16:44:52,908 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:44:52,909 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:44:52,920 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3df3410a, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:44:52,923 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@31204303, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@76b05c0]; rollback [true]
2019-08-11 16:44:52,926 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 16:44:52,927 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:44:52,928 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:44:52,929 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:44:52,933 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:44:52,933 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 16:44:52,934 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:44:52,937 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:44:52,937 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:44:52,940 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:44:52,947 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:44:52,947 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:44:52,949 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:44:52,953 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@31204303, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:44:52,954 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@523ade68, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@76b05c0]; rollback [true]
2019-08-11 16:44:52,959 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:44:52,964 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-11 16:44:52,967 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@523ade68, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:44:52,969 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@34e07e65, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@76b05c0]; rollback [true]
2019-08-11 16:44:52,972 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:44:52,973 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-11 16:44:52,974 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 4
2019-08-11 16:44:52,976 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@34e07e65, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:44:52,977 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@e18d2a2, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@76b05c0]; rollback [true]
2019-08-11 16:44:52,980 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-11 16:44:52,980 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:44:52,981 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation4
2019-08-11 16:44:52,982 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:44:52,987 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:44:52,987 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 10
2019-08-11 16:44:52,988 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:44:52,991 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation5
2019-08-11 16:44:52,991 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:44:52,994 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:44:52,997 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@e18d2a2, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:44:52,999 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@36f05595, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@76b05c0]; rollback [true]
2019-08-11 16:44:53,003 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-11 16:44:53,003 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 6
2019-08-11 16:44:53,006 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@36f05595, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:44:53,008 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@61d6c8c4, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@76b05c0]; rollback [true]
2019-08-11 16:44:53,012 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:44:53,012 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-11 16:44:53,014 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 7
2019-08-11 16:44:53,017 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@61d6c8c4, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:44:53,024 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:44:53,031 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:44:53,031 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:44:53,032 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:44:53,032 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:44:53,034 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:44:53,034 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:44:53,035 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 16:44:53,035 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 16:44:53,037 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 16:46:41,671 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 6220 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:46:41,672 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:46:41,673 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:46:41,811 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:46:41,812 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:46:42,354 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:46:42,497 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 133ms. Found 7 repository interfaces.
2019-08-11 16:46:42,973 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$77963e00] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:46:43,255 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:46:43,504 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:46:43,621 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:46:43,706 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:46:43,709 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:46:43,870 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:46:44,271 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:46:45,232 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@48567727'
2019-08-11 16:46:45,236 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:46:45,583 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:46:47,303 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:46:47,372 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:46:47,880 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 9456966f-2f01-43d5-a2c8-ff4b1faefc92

2019-08-11 16:46:48,130 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e2c627e, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e8986b6, org.springframework.security.web.header.HeaderWriterFilter@bc52a41, org.springframework.security.web.csrf.CsrfFilter@45f0038, org.springframework.security.web.authentication.logout.LogoutFilter@93fb44, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d7e2795, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@67a38, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@35cbeb54, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@26c6288d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ad2883a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a988299, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a7ae340, org.springframework.security.web.session.SessionManagementFilter@5615f82d, org.springframework.security.web.access.ExceptionTranslationFilter@50fa5938, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@460e5ffe]
2019-08-11 16:46:48,296 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.94 seconds (JVM running for 7.805)
2019-08-11 16:46:48,340 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@46fb9581, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:46:48,494 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:46:48,495 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:46:48,524 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 16:46:48,525 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 16:46:48,568 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 16:46:48,569 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:46:48,570 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:46:48,579 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@46fb9581, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:46:48,582 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2919aff3, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:46:48,584 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 16:46:48,584 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:46:48,586 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:46:48,586 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:46:48,592 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:46:48,592 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 16:46:48,593 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:46:48,595 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:46:48,596 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:46:48,598 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:46:48,606 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:46:48,607 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:46:48,608 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:46:48,612 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2919aff3, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:46:48,613 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5bc14211, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:46:48,617 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:46:48,621 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-11 16:46:48,623 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5bc14211, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:46:48,626 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3b576ee3, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:46:48,630 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:46:48,630 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-11 16:46:48,632 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 4
2019-08-11 16:46:48,634 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3b576ee3, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:46:48,636 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2db3675a, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:46:48,639 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-11 16:46:48,640 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:46:48,641 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation4
2019-08-11 16:46:48,642 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:46:48,648 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:46:48,648 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 10
2019-08-11 16:46:48,648 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:46:48,651 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation5
2019-08-11 16:46:48,652 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:46:48,654 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:46:48,658 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2db3675a, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:46:48,659 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3aeb267, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:46:48,662 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-11 16:46:48,663 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 6
2019-08-11 16:46:48,666 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3aeb267, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:46:48,667 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@4f7ef948, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:46:48,670 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:46:48,671 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-11 16:46:48,672 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 7
2019-08-11 16:46:48,674 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@4f7ef948, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:46:48,680 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:46:48,685 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:46:48,686 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:46:48,687 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:46:48,687 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:46:48,689 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:46:48,689 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:46:48,689 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 16:46:48,689 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 16:46:48,691 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 16:47:13,026 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 2332 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:47:13,027 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:47:13,028 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:47:13,172 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:47:13,173 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:47:13,749 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:47:13,881 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 119ms. Found 7 repository interfaces.
2019-08-11 16:47:14,312 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d85f8fbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:47:14,535 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:47:14,735 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:47:14,830 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:47:14,908 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:47:14,911 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:47:15,068 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:47:15,420 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:47:16,323 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6afbe6a1'
2019-08-11 16:47:16,327 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:47:16,647 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:47:18,218 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:47:18,297 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:47:18,755 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: cadc1423-532b-42c1-852e-8f3732e10062

2019-08-11 16:47:19,002 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e8bd498, org.springframework.security.web.context.SecurityContextPersistenceFilter@5814b4fb, org.springframework.security.web.header.HeaderWriterFilter@21698e5a, org.springframework.security.web.csrf.CsrfFilter@4746fb8c, org.springframework.security.web.authentication.logout.LogoutFilter@13d1f898, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2986427e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@683fe7b5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@335972a5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1939a394, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ba13fed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67a38, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59a2bed1, org.springframework.security.web.session.SessionManagementFilter@2e8986b6, org.springframework.security.web.access.ExceptionTranslationFilter@bc52a41, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56402642]
2019-08-11 16:47:19,154 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.458 seconds (JVM running for 7.338)
2019-08-11 16:47:19,187 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@46d69ca4, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7cbf4f8c]; rollback [true]
2019-08-11 16:47:19,339 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:47:19,340 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:47:19,372 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 16:47:19,373 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 16:47:19,412 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 16:47:19,413 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:47:19,413 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:47:19,422 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@46d69ca4, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:47:19,425 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@696298ea, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7cbf4f8c]; rollback [true]
2019-08-11 16:47:19,428 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 16:47:19,428 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:47:19,430 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:47:19,430 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:47:19,435 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:47:19,436 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 16:47:19,436 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:47:19,440 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:47:19,440 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:47:19,443 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:47:19,452 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:47:19,452 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:47:19,454 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:47:19,459 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@696298ea, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:47:19,461 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@254513e8, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7cbf4f8c]; rollback [true]
2019-08-11 16:47:19,466 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:47:19,472 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-11 16:47:19,474 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@254513e8, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = com.bibliotheque.exception.BibliothequeException: book.id.not.correct, mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:47:19,482 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@52efb338, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7cbf4f8c]; rollback [true]
2019-08-11 16:47:19,486 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:47:19,487 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-11 16:47:19,488 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 4
2019-08-11 16:47:19,491 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@52efb338, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:47:19,493 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3f2ae973, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7cbf4f8c]; rollback [true]
2019-08-11 16:47:19,496 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-11 16:47:19,496 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:47:19,498 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation4
2019-08-11 16:47:19,499 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:47:19,504 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:47:19,504 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 10
2019-08-11 16:47:19,505 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:47:19,508 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation5
2019-08-11 16:47:19,508 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:47:19,511 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:47:19,514 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3f2ae973, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:47:19,516 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2d8087da, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7cbf4f8c]; rollback [true]
2019-08-11 16:47:19,521 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-11 16:47:19,521 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 6
2019-08-11 16:47:19,525 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2d8087da, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:47:19,526 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@647af13d, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7cbf4f8c]; rollback [true]
2019-08-11 16:47:19,530 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:47:19,531 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-11 16:47:19,532 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 7
2019-08-11 16:47:19,535 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@647af13d, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:47:19,543 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:47:19,548 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:47:19,549 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:47:19,550 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:47:19,551 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:47:19,553 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:47:19,554 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:47:19,554 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 16:47:19,554 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 16:47:19,556 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 16:53:34,957 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 13468 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:53:34,958 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:53:34,959 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:53:35,099 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:53:35,100 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:53:35,681 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:53:35,812 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 120ms. Found 7 repository interfaces.
2019-08-11 16:53:36,275 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$77963e00] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:53:36,492 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:53:36,709 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:53:36,802 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:53:36,886 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:53:36,889 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:53:37,049 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:53:37,423 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:53:38,362 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@48567727'
2019-08-11 16:53:38,366 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:53:38,702 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:53:40,205 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:53:40,272 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:53:40,787 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 7b9b2310-1a3b-4436-84fe-e756ff980d38

2019-08-11 16:53:41,033 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35cbeb54, org.springframework.security.web.context.SecurityContextPersistenceFilter@5724c7da, org.springframework.security.web.header.HeaderWriterFilter@9f48198, org.springframework.security.web.csrf.CsrfFilter@289a4b90, org.springframework.security.web.authentication.logout.LogoutFilter@321c2a7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@78743dd8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7ef4aceb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@a7ae340, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@57bd9c2b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5814b4fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@878feb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e8bd498, org.springframework.security.web.session.SessionManagementFilter@21698e5a, org.springframework.security.web.access.ExceptionTranslationFilter@1e482ecd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a4cbcc6]
2019-08-11 16:53:41,186 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.56 seconds (JVM running for 7.452)
2019-08-11 16:53:41,225 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@6fcc0a1, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@71734463]; rollback [true]
2019-08-11 16:53:41,377 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:53:41,378 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:53:41,416 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 16:53:41,417 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 16:53:41,461 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 16:53:41,462 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:53:41,462 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:53:41,473 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@6fcc0a1, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:53:41,477 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@751bb780, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@71734463]; rollback [true]
2019-08-11 16:53:41,480 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 16:53:41,481 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:53:41,482 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:53:41,483 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:53:41,487 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:53:41,488 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 16:53:41,488 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:53:41,492 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:53:41,492 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:53:41,496 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:53:41,503 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@751bb780, testMethod = testDeleteReservation@TestReservationBusiness, testException = org.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type!; nested exception is java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!, mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:53:41,509 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@539dd2d0, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@71734463]; rollback [true]
2019-08-11 16:53:41,514 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@539dd2d0, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = org.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type!; nested exception is java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!, mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:53:41,517 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5ad50b02, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@71734463]; rollback [true]
2019-08-11 16:53:41,522 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5ad50b02, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = org.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type!; nested exception is java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!, mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:53:41,527 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@37fffef3, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@71734463]; rollback [true]
2019-08-11 16:53:41,531 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-11 16:53:41,531 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:53:41,533 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation4
2019-08-11 16:53:41,534 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:53:41,538 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:53:41,539 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 10
2019-08-11 16:53:41,539 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:53:41,541 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation5
2019-08-11 16:53:41,542 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:53:41,545 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:53:41,549 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@37fffef3, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:53:41,551 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@25c6ab3f, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@71734463]; rollback [true]
2019-08-11 16:53:41,555 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-11 16:53:41,555 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 6
2019-08-11 16:53:41,559 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@25c6ab3f, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:53:41,562 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@dbda472, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@71734463]; rollback [true]
2019-08-11 16:53:41,566 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@dbda472, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = org.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type!; nested exception is java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!, mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:53:41,574 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:53:41,581 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:53:41,582 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:53:41,584 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:53:41,584 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:53:41,586 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:53:41,586 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:53:41,587 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 16:53:41,587 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 16:53:41,589 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 16:54:45,129 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 8084 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:54:45,130 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:54:45,130 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:54:45,276 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:54:45,276 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:54:45,796 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:54:45,905 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 101ms. Found 7 repository interfaces.
2019-08-11 16:54:46,395 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2091a0a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:54:46,603 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:54:46,809 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:54:46,908 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:54:46,983 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:54:46,985 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:54:47,141 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:54:47,541 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:54:48,451 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6afbe6a1'
2019-08-11 16:54:48,454 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:54:48,774 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:54:50,348 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:54:50,412 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:54:50,912 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 83cf6ddf-055f-4e8e-8f54-9ab26103fc58

2019-08-11 16:54:51,143 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e2c627e, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e8986b6, org.springframework.security.web.header.HeaderWriterFilter@bc52a41, org.springframework.security.web.csrf.CsrfFilter@45f0038, org.springframework.security.web.authentication.logout.LogoutFilter@93fb44, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d7e2795, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@67a38, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@35cbeb54, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@26c6288d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ad2883a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a988299, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a7ae340, org.springframework.security.web.session.SessionManagementFilter@5615f82d, org.springframework.security.web.access.ExceptionTranslationFilter@50fa5938, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@460e5ffe]
2019-08-11 16:54:51,273 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.476 seconds (JVM running for 7.33)
2019-08-11 16:54:51,306 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@46fb9581, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:54:51,458 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:54:51,459 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:54:51,492 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 16:54:51,493 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 16:54:51,535 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 16:54:51,536 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:54:51,536 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:54:51,547 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@46fb9581, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:54:51,550 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2919aff3, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:54:51,553 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 16:54:51,554 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:54:51,555 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:54:51,556 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:54:51,561 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:54:51,562 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 16:54:51,562 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:54:51,565 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:54:51,566 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:54:51,569 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:54:51,578 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:54:51,579 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:54:51,580 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:54:51,586 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2919aff3, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:54:51,587 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5bc14211, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:54:51,593 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:54:51,597 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-11 16:54:51,600 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5bc14211, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = com.bibliotheque.exception.BibliothequeException: book.id.not.correct, mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:54:51,606 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2db3675a, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:54:51,611 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:54:51,611 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-11 16:54:51,613 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 4
2019-08-11 16:54:51,615 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2db3675a, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:54:51,617 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@1987807b, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:54:51,620 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-11 16:54:51,620 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:54:51,622 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation4
2019-08-11 16:54:51,623 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:54:51,628 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:54:51,629 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 10
2019-08-11 16:54:51,630 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:54:51,633 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation5
2019-08-11 16:54:51,633 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:54:51,636 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:54:51,639 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@1987807b, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:54:51,641 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@74e2cfc5, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:54:51,646 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-11 16:54:51,646 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 6
2019-08-11 16:54:51,650 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@74e2cfc5, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:54:51,651 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2d8c729f, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13374ca6]; rollback [true]
2019-08-11 16:54:51,655 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:54:51,655 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-11 16:54:51,656 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 7
2019-08-11 16:54:51,659 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@2d8c729f, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:54:51,671 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:54:51,677 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:54:51,677 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:54:51,679 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:54:51,679 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:54:51,681 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:54:51,682 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:54:51,682 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 16:54:51,682 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 16:54:51,684 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 16:57:15,245 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestReservationBusiness on DESKTOP-EAH8HBP with PID 5936 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:57:15,246 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:57:15,247 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:57:15,391 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:57:15,392 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:57:15,931 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:57:16,047 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 108ms. Found 7 repository interfaces.
2019-08-11 16:57:16,514 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b2e1bffe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:57:16,720 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:57:16,930 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:57:17,022 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:57:17,100 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:57:17,103 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:57:17,256 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:57:17,615 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:57:18,505 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@dada335'
2019-08-11 16:57:18,509 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:57:18,844 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:57:20,402 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:57:20,474 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:57:20,935 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 46fee4a8-6ca0-44ed-aba8-fe040702952c

2019-08-11 16:57:21,179 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b00d59, org.springframework.security.web.context.SecurityContextPersistenceFilter@18d22ecf, org.springframework.security.web.header.HeaderWriterFilter@3ad2883a, org.springframework.security.web.csrf.CsrfFilter@492fa72a, org.springframework.security.web.authentication.logout.LogoutFilter@2d4a0671, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26c6288d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@14b48f39, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7c048b30, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5e8bd498, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31443680, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b5b8730, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@309cf657, org.springframework.security.web.session.SessionManagementFilter@3aca2579, org.springframework.security.web.access.ExceptionTranslationFilter@3dc2f14, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5358c8fa]
2019-08-11 16:57:21,320 INFO org.springframework.boot.StartupInfoLogger [main] Started TestReservationBusiness in 6.394 seconds (JVM running for 7.256)
2019-08-11 16:57:21,359 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@54f25b42, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ca33187]; rollback [true]
2019-08-11 16:57:21,514 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:57:21,515 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:57:21,548 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation1
2019-08-11 16:57:21,549 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book1
2019-08-11 16:57:21,594 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 1
2019-08-11 16:57:21,594 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 1
2019-08-11 16:57:21,594 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 1
2019-08-11 16:57:21,603 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@54f25b42, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:57:21,606 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@9d2af36, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ca33187]; rollback [true]
2019-08-11 16:57:21,610 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 3
2019-08-11 16:57:21,610 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:57:21,612 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:57:21,612 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:57:21,618 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:57:21,618 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 4
2019-08-11 16:57:21,619 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:57:21,622 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:57:21,623 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book2
2019-08-11 16:57:21,625 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:57:21,632 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:57:21,632 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:57:21,633 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 2
2019-08-11 16:57:21,637 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@9d2af36, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:57:21,638 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5ad50b02, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ca33187]; rollback [true]
2019-08-11 16:57:21,644 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5ad50b02, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:57:21,646 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@37fffef3, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ca33187]; rollback [true]
2019-08-11 16:57:21,651 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@37fffef3, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:57:21,652 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@65b5b5ed, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ca33187]; rollback [true]
2019-08-11 16:57:21,655 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 9
2019-08-11 16:57:21,655 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:57:21,656 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation4
2019-08-11 16:57:21,657 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:57:21,661 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:57:21,662 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 10
2019-08-11 16:57:21,662 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:57:21,664 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation5
2019-08-11 16:57:21,664 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book5
2019-08-11 16:57:21,666 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 5
2019-08-11 16:57:21,669 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@65b5b5ed, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:57:21,670 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@25110bb9, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ca33187]; rollback [true]
2019-08-11 16:57:21,673 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-11 16:57:21,673 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 6
2019-08-11 16:57:21,676 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@25110bb9, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:57:21,677 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@1c972ae6, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6ca33187]; rollback [true]
2019-08-11 16:57:21,682 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3a93b025 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@1c972ae6, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@35cabb2a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a17b7b6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@76707e36, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1786dec2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@34cd072c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:57:21,689 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:57:21,695 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:57:21,695 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:57:21,697 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:57:21,697 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:57:21,699 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] SQL Error: 90121, SQLState: 90121
2019-08-11 16:57:21,700 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Thread-5] La base de données est déjà fermée (pour désactiver la fermeture automatique à larrêt de la VM, ajoutez "; DB_CLOSE_ON_EXIT = FALSE" à lURL db)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2019-08-11 16:57:21,700 INFO org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection used for DDL execution
2019-08-11 16:57:21,701 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2019-08-11 16:57:21,703 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2019-08-11 16:58:44,846 INFO org.springframework.boot.StartupInfoLogger [main] Starting TestBookBusiness on DESKTOP-EAH8HBP with PID 7296 (started by Morgan in C:\Users\Morgan\Desktop\Workspace\Projet-10\Web-service)
2019-08-11 16:58:44,847 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.1.3.RELEASE, Spring v5.1.5.RELEASE
2019-08-11 16:58:44,848 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-08-11 16:58:45,066 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/bibliotheque.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\bibliotheque.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:58:45,067 INFO org.springframework.context.annotation.ConfigurationClassParser [main] Properties location [file:${catalina.home}/conf/Projet7-WebService/application.properties] not resolvable: C:\apache-tomcat-8.5.34\conf\Projet7-WebService\application.properties (Le chemin d’accès spécifié est introuvable)
2019-08-11 16:58:45,800 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data repositories in DEFAULT mode.
2019-08-11 16:58:45,937 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 124ms. Found 7 repository interfaces.
2019-08-11 16:58:46,682 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e9d92be8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-08-11 16:58:46,996 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2019-08-11 16:58:47,307 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2019-08-11 16:58:47,432 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-08-11 16:58:47,557 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.3.7.Final}
2019-08-11 16:58:47,560 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2019-08-11 16:58:47,759 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-08-11 16:58:48,279 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-08-11 16:58:49,596 INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl [main] HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@7eadbbc'
2019-08-11 16:58:49,601 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:58:50,147 INFO org.hibernate.hql.internal.QueryTranslatorFactoryInitiator [main] HHH000397: Using ASTQueryTranslatorFactory
2019-08-11 16:58:51,844 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-08-11 16:58:51,954 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-08-11 16:58:52,460 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: f6edca75-6cd7-4198-ba2b-734730d78dc1

2019-08-11 16:58:52,786 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56fc3dda, org.springframework.security.web.context.SecurityContextPersistenceFilter@250becb7, org.springframework.security.web.header.HeaderWriterFilter@6b49f6b9, org.springframework.security.web.csrf.CsrfFilter@57b4cd40, org.springframework.security.web.authentication.logout.LogoutFilter@ca80829, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41ea0698, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@e28a701, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@60cdedb7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@37da7d8c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7006c487, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@778bea9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c370db6, org.springframework.security.web.session.SessionManagementFilter@7497ea59, org.springframework.security.web.access.ExceptionTranslationFilter@a2a65be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@142d02bb]
2019-08-11 16:58:52,942 INFO org.springframework.boot.StartupInfoLogger [main] Started TestBookBusiness in 8.608 seconds (JVM running for 10.555)
2019-08-11 16:58:52,985 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@135ba46b, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,175 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 5 not correct
2019-08-11 16:58:53,182 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@135ba46b, testMethod = testDeleteBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,185 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@275b2f3b, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,188 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:58:53,242 INFO com.bibliotheque.metier.BookBusinessImpl [main] update book 2
2019-08-11 16:58:53,242 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 2
2019-08-11 16:58:53,245 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@275b2f3b, testMethod = testSaveBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,246 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@26230135, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,249 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 3
2019-08-11 16:58:53,250 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-11 16:58:53,252 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@26230135, testMethod = testSaveBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,254 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@754f1c59, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,257 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 4
2019-08-11 16:58:53,259 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@754f1c59, testMethod = testGetBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,261 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3cc0f270, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,263 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 5
2019-08-11 16:58:53,290 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyAvailable incorrect : book.copyAvailable.value.not.correct
2019-08-11 16:58:53,293 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@3cc0f270, testMethod = testSaveBookWithNegativeCopyAvailable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,295 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@700d25ee, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,299 ERROR com.bibliotheque.metier.BookBusinessImpl [main] book6already disable
2019-08-11 16:58:53,302 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@700d25ee, testMethod = testDeleteBookAlreadyDisable@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,304 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4371142f, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,330 INFO com.bibliotheque.metier.BookBusinessImpl [main] Create book7
2019-08-11 16:58:53,331 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 7
2019-08-11 16:58:53,335 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@4371142f, testMethod = testCreateBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,337 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@6520a5fd, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,340 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 8
2019-08-11 16:58:53,366 ERROR com.bibliotheque.metier.BookBusinessImpl [main] Book copyTotals incorrect : book.copyTotals.value.not.correct
2019-08-11 16:58:53,369 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@6520a5fd, testMethod = testSaveBookWithNegativeCopyTotals@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,373 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@5b5963a8, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,376 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success set disable to book9
2019-08-11 16:58:53,379 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@5b5963a8, testMethod = testDeleteBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,381 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@5d31319, testMethod = testPageBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,448 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 0 elements
2019-08-11 16:58:53,453 INFO com.bibliotheque.metier.BookBusinessImpl [main] Return pageBook of 1 elements
2019-08-11 16:58:53,457 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@5d31319, testMethod = testPageBook@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,459 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2b6061f6, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,463 ERROR com.bibliotheque.metier.BookBusinessImpl [main] id book 50 not correct
2019-08-11 16:58:53,466 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@6f9ab79d testClass = TestBookBusiness, testInstance = com.bibliotheque.TestBookBusiness@2b6061f6, testMethod = testGetBookWithBadId@TestBookBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@64ae105d testClass = TestBookBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,471 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@2b824bc3 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@2ae611bf, testMethod = testCreateKindWithBlankName@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23bb821 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,483 ERROR com.bibliotheque.metier.KindBusinessImpl [main] Kind name incorrect : kind.name.blank
2019-08-11 16:58:53,486 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@2b824bc3 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@2ae611bf, testMethod = testCreateKindWithBlankName@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23bb821 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,488 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@2b824bc3 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@3e32c90c, testMethod = testCreateKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23bb821 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,500 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-11 16:58:53,553 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@2b824bc3 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@3e32c90c, testMethod = testCreateKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23bb821 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,555 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@2b824bc3 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@ca37473, testMethod = TestGetKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23bb821 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,567 INFO com.bibliotheque.metier.KindBusinessImpl [main] save kindTest
2019-08-11 16:58:53,567 INFO com.bibliotheque.metier.KindBusinessImpl [main] get kind Test
2019-08-11 16:58:53,571 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@2b824bc3 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@ca37473, testMethod = TestGetKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23bb821 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,572 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@2b824bc3 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@b5836cb, testMethod = TestGetListKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23bb821 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,577 INFO com.bibliotheque.metier.KindBusinessImpl [main] Return list of kind
2019-08-11 16:58:53,584 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@2b824bc3 testClass = TestKindBusiness, testInstance = com.bibliotheque.TestKindBusiness@b5836cb, testMethod = TestGetListKind@TestKindBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@23bb821 testClass = TestKindBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,591 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5cefd48a, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,680 INFO com.bibliotheque.metier.MailBusinessImpl [main] Get mail for user ID 1
2019-08-11 16:58:53,684 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Send Email for reservation 1
2019-08-11 16:58:53,685 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 1
2019-08-11 16:58:53,692 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@5cefd48a, testMethod = testReturnLoanWithReservation@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,694 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7ec26b70, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,697 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 2
2019-08-11 16:58:53,698 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 50 not correct
2019-08-11 16:58:53,700 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7ec26b70, testMethod = testCreateLoanWithBadBookId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,702 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6c75decb, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,705 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 3 late for extention
2019-08-11 16:58:53,707 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@6c75decb, testMethod = testExtendLoanWithLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,709 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7fe9f621, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,714 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] utilisateur id 50 not correct
2019-08-11 16:58:53,717 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@7fe9f621, testMethod = testExtendLoanWithBadUser@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,719 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@64b55b2c, testMethod = testGetListLoanLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,723 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan late
2019-08-11 16:58:53,733 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan late for user id 5
2019-08-11 16:58:53,736 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@64b55b2c, testMethod = testGetListLoanLate@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,737 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@48c09d80, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,745 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Close the loan 9
2019-08-11 16:58:53,745 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 9
2019-08-11 16:58:53,748 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@48c09d80, testMethod = testReturnLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,750 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@718386b3, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,754 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 8
2019-08-11 16:58:53,761 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Update book 18
2019-08-11 16:58:53,761 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Create loan 11
2019-08-11 16:58:53,761 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get loan 10
2019-08-11 16:58:53,764 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@718386b3, testMethod = testCreateLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,766 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@57084420, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,769 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan 12 already in extention
2019-08-11 16:58:53,771 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@57084420, testMethod = testExtendLoanAlreadyExtend@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,773 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@522781f5, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,776 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Add 48 days to loan 13
2019-08-11 16:58:53,785 INFO com.bibliotheque.metier.LoanBusinessImpl [main] Get list of loan not late for user id 10
2019-08-11 16:58:53,791 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@522781f5, testMethod = testExtendLoan@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,793 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@12078737, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,799 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 11
2019-08-11 16:58:53,799 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book id 21 not correct
2019-08-11 16:58:53,802 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@12078737, testMethod = testCreateLoanWithBookDisable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,804 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1f4ec731, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,810 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] loan id 50 not correct
2019-08-11 16:58:53,813 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@1f4ec731, testMethod = testExtendLoanWithBadId@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,815 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@263688f4, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,820 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 13
2019-08-11 16:58:53,821 ERROR com.bibliotheque.metier.LoanBusinessImpl [main] book 23 not available
2019-08-11 16:58:53,823 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@3476369b testClass = TestLoanBusiness, testInstance = com.bibliotheque.TestLoanBusiness@263688f4, testMethod = testCreateLoanWithNoCopyAvailable@TestLoanBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@188ede05 testClass = TestLoanBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,828 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5738ff8c, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,832 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 14
2019-08-11 16:58:53,833 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 24
2019-08-11 16:58:53,835 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation2
2019-08-11 16:58:53,836 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book24
2019-08-11 16:58:53,845 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 24
2019-08-11 16:58:53,845 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 14
2019-08-11 16:58:53,846 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 24
2019-08-11 16:58:53,852 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@5738ff8c, testMethod = testCreateReservationWithReservationAlreadyExistForUser@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,854 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@1af13038, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,859 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 16
2019-08-11 16:58:53,859 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 25
2019-08-11 16:58:53,861 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation3
2019-08-11 16:58:53,862 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book25
2019-08-11 16:58:53,866 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 25
2019-08-11 16:58:53,867 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 17
2019-08-11 16:58:53,867 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 25
2019-08-11 16:58:53,871 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation4
2019-08-11 16:58:53,871 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book25
2019-08-11 16:58:53,875 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 25
2019-08-11 16:58:53,886 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success delete reservation
2019-08-11 16:58:53,887 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 25
2019-08-11 16:58:53,889 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 25
2019-08-11 16:58:53,892 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@1af13038, testMethod = testDeleteReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,894 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3ca5aa01, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,901 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3ca5aa01, testMethod = testDeleteReservationWithBadBookId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,903 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@168371f3, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,909 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@168371f3, testMethod = testDeleteReservationWithBadId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,911 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@7fc9c9a2, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,914 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 22
2019-08-11 16:58:53,915 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 28
2019-08-11 16:58:53,917 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation5
2019-08-11 16:58:53,917 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book28
2019-08-11 16:58:53,924 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 28
2019-08-11 16:58:53,924 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 23
2019-08-11 16:58:53,925 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 28
2019-08-11 16:58:53,927 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success create reservation6
2019-08-11 16:58:53,928 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Success update book28
2019-08-11 16:58:53,932 INFO com.bibliotheque.metier.ReservationBusinessImpl [main] Update position of reservation for book 28
2019-08-11 16:58:53,936 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@7fc9c9a2, testMethod = testCreateReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,938 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@56fdc3d4, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,941 INFO com.bibliotheque.metier.UserBusinessImpl [main] Success get user 24
2019-08-11 16:58:53,942 INFO com.bibliotheque.metier.BookBusinessImpl [main] Success get book 29
2019-08-11 16:58:53,946 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@56fdc3d4, testMethod = testCreateReservationWithBookNoAvailableReservation@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:53,948 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3f6938ab, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ad30ea0]; rollback [true]
2019-08-11 16:58:53,954 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@1b461da1 testClass = TestReservationBusiness, testInstance = com.bibliotheque.TestReservationBusiness@3f6938ab, testMethod = testDeleteReservationWithBadUserId@TestReservationBusiness, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71a2258a testClass = TestReservationBusiness, locations = '{}', classes = '{class com.bibliotheque.Projet7WebServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f577419, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51abf713, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@545f80bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3003697], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2019-08-11 16:58:54,645 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-7] Shutting down ExecutorService 'applicationTaskExecutor'
2019-08-11 16:58:54,653 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-7] Closing JPA EntityManagerFactory for persistence unit 'default'
2019-08-11 16:58:54,653 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-7] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2019-08-11 16:58:54,672 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown initiated...
2019-08-11 16:58:54,681 INFO com.zaxxer.hikari.HikariDataSource [Thread-7] HikariPool-1 - Shutdown completed.
